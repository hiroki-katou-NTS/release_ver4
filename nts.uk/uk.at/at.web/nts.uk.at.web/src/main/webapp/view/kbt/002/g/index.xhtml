<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
	<body>
		<ui:composition template="../../../../master/dialog.xhtml">
			<ui:define name="htmlHead">
			<script>
				var dialogSize = {
					width : 1062,
					height : 550
				};
			</script>
				<com:scriptfile set="IGNITE" />
				<com:stylefile path="kbt002.g.main.css" />
				<com:scriptfile path="kbt002.g.service.js" />
				<com:scriptfile path="kbt002.g.vm.js" />
			</ui:define>
			
			<ui:define name="content">
				<div id="contents-area">
					<table style="margin-bottom : 15px;">
					    <colgroup>
					        <col width="190"/>
					        <col width="870"/>
					    </colgroup>
					    <tbody>
					        <tr>
					            <td class="inputLabel">#{i18n.getText('KBT002_200')}</td>
					            <td><div data-bind="text: overallStatus" /></td>
					        </tr>
					        <tr>
					        	<td colspan="2"><div data-bind="text: overallError" /></td>
					        </tr>
					    </tbody>
					</table>
					<table>
					    <colgroup>
					        <col width="190px"/>
					        <col width="190px"/>
					        <col width="200px"/>
					        <col width="80px"/>
					        <col width="80px"/>
					        <col width="110px"/> 
					        <col width="80px"/>
					       <col width="130px"/>
					    </colgroup>
					    <thead>
							<tr>
								<th class="inputLabel">#{i18n.getText('KBT002_201')}</th>
								<th class="inputLabel">#{i18n.getText('KBT002_202')}</th>
								<th class="inputLabel">#{i18n.getText('KBT002_203')}</th>
								<th class="inputLabel">#{i18n.getText('KBT002_204')}</th>
								<th class="inputLabel">#{i18n.getText('KBT002_205')}</th>
								<th class="inputLabel">#{i18n.getText('KBT002_206')}</th>
								<th class="inputLabel">#{i18n.getText('KBT002_207')}</th>
								<th class="inputLabel"></th>
							</tr>
						</thead>
					    <tbody data-bind = "foreach: taskLogList">
							<tr>
								<td class="inputLabel"><div data-bind="text: taskName" /></td>
								<com:ko-if bind="taskId !== 3">
									<td><div data-bind="text: lastExecDateTime" /></td>
									<td><div data-bind="text: lastEndExecDateTime" /></td>
									<td><div data-bind="text: rangeDateTime" /></td>
								</com:ko-if>
								<com:ko-if bind="taskId === 3">
									<com:ko-if bind="statusCd !== 0">
										<td style="background-color:#D9D9D9;"></td>
										<td style="background-color:#D9D9D9;"></td>
										<td style="background-color:#D9D9D9;"></td>
									</com:ko-if>	
									<com:ko-if bind="statusCd === 0">
										<td></td>
										<td></td>
										<td></td>
									</com:ko-if>
								</com:ko-if>
								<td><div data-bind="text: status" /></td>
								<td><div data-bind="text: errorSystemText" /></td>
								<td><div data-bind="text: errorBusinessText" /></td>
								<com:ko-if bind="taskId === 8 || taskId === 11 || taskId === 12">
									<td></td>
								</com:ko-if>
								<com:ko-if bind="taskId !== 8 &amp;&amp; taskId !== 11 &amp;&amp; taskId !== 12">
									<td style="text-align: center;">
										<button tabindex="1" class="setting small"
											data-bind="click: function(data, event) { $parent.openDetailDialog(data, event)}, enable: (errorBusiness == true &amp;&amp; taskId !== 13) || (statusCd === 1 &amp;&amp; taskId === 13)"
											data-code="${taskId}" style="width: 100px;">#{i18n.getText('KBT002_146')}</button>
									</td>
								</com:ko-if>
	
							</tr>
					</tbody>
					</table>
				</div>
				<div id="functions-area-bottom">
					<button tabindex="2" data-bind="click: closeDialog">#{i18n.getText('KBT002_134')}</button>
				</div>
			</ui:define>
		</ui:composition>
   	</body>
</html>