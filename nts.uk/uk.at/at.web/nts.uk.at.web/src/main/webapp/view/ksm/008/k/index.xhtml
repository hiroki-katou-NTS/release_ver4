<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:com="http://xmlns.jcp.org/jsf/component"
>
<body>
<ui:composition template="../../../../master/sidebar.xhtml">
    <ui:define name="sidebar-head">
        <com:ValidatorScript>
            nts.uk.ctx.at.schedule.dom.schedule.alarm.consecutivework.limitworktime.MaxDayOfWorkTimeCode
            nts.uk.ctx.at.schedule.dom.schedule.alarm.consecutivework.limitworktime.MaxDayOfWorkTimeName
            nts.uk.ctx.at.schedule.dom.schedule.alarm.consecutivework.limitworktime.MaxDay
        </com:ValidatorScript>
        <script>var dialogSize = {width: 900, height: 700};</script>
        <com:stylefile path="ksm008.k.style.css"/>
        <com:stylefile path="../l/ksm008.l.style.css"/>
        <com:scriptfile path="ksm008.k.vm.js"/>
        <com:scriptfile set="IGNITE"/>
    </ui:define>
    <ui:define name="sidebar" >
        <ul class="navigator" tabindex="1">
            <!--k1_1-->
            <li data-bind="click: onCompanySelect, visible: $vm.$user.role.isInCharge.attendance">
                <a tabindex="-1" data-id="0" id="panel-1" href="#tabpanel-1" role="tab-navigator"
                   class="active">#{i18n.getText('Com_Company')} </a>
            </li>
            <!--k1_2-->
            <li data-bind="click: onOrganizationSelect">
                <a tabindex="-1" data-id="1" id="panel-2" href="#tabpanel-2" role="tab-navigator">#{i18n.getText('KSM008_148')}</a>
            </li>
        </ul>
    </ui:define>
    <ui:define name="sidebar-content">
        <div id="tabpanel-1" role="tabpanel" data-bind="visible:  $vm.$user.role.isInCharge.attendance">
            <com:ko tag="if" bind="$vm.$user.role.isInCharge.attendance">
            <div class="sidebar-content-header">
                    <span class="title">#{i18n.getText('Com_Company')}</span>
                    <!--k2_1-->
                    <a class="goback" tabindex="2"
                       data-bind="ntsLinkButton: { jump: backButon }">#{i18n.getText('KSM008_149')}</a>
                    <!--k2_2-->
                    <button tabindex="3" data-bind="click:kScreenClickNewButton">#{i18n.getText('KSM008_150')}</button>
                    <!--k2_3-->
                    <button class="proceed" data-bind="click:registerKScreen, enable: $root.errors.isEmpty"
                            tabindex="4">#{i18n.getText('KSM008_151')}</button>
                    <!--k2_4-->
                    <button class="danger" data-bind="enable:vm.isKScreenUpdateMode(),click:kScreenClickDeleteButton"
                            tabindex="5">#{i18n.getText('KSM008_152')}</button>
            </div>
            <div class="contents-area custom-class">
                <div>
                    <!--k3_1-->
                    <div class="label class-padding-btm-5" data-bind="text: scheduleAlarmCheckCond().codeAndName"></div>
                    <div class="label warning color-black ">
                    <!--k4_1-->
                    <div >#{i18n.getText('KSM008_153')}</div>
                    <!--k4_2-->
                    <div style="padding-top: 0;white-space: pre-wrap;"
                         data-bind="text: scheduleAlarmCheckCond().descriptions"></div>
                    </div>
                </div>
                <div class="table" style="margin-top: 8px;">
                    <div class="cell valign-top">
                        <!--k5-->
                        <div data-bind="ntsPanel:{direction: 'right', showIcon: false, visible: true}"
                            >
                            <!--k5_1-->
                            <table tabindex="6" id="single-list" data-bind="ntsGridList: {
                            dataSource: kScreenGridListData,
                            primaryKey: 'code',
                            columns: [ { headerText: '#{i18n.getText('KSM008_155')}', key: 'code', width: 80, formatter: _.escape },
                                       { headerText: '#{i18n.getText('KSM008_156')}', key: 'name', width: 180, formatter: _.escape },
                                       { headerText: '#{i18n.getText('KSM008_157')}', key: 'maxNumberOfDay', width: 80, formatter: _.escape }
                                      ],
                            deleteOptions : {visible : false},
                            multiple: false,
                            rows: 12,
                            value: kScreenCurrentCode
                        },name:#{i18n.getText('KSM008_154')}"></table>
                        </div>
                    </div>
                    <div class="cell valign-top">
                        <div class="table">
                            <!-- k6_1 -->
                            <div class="cell valign-center" style="width: 155px">
                                <div data-bind="
                                ntsFormLabel: { constraint: ['MaxDayOfWorkTimeCode','MaxDayOfWorkTimeName'], enable: true, required:true }
                              ">#{i18n.getText('KSM008_158')}</div>
                            </div>
                            <div class="cell valign-center">
                                <!-- K6_2 -->
                                <input tabindex="7" id="K6_2"
                                       data-bind="
                                         ntsTextEditor: {constraint: 'MaxDayOfWorkTimeCode',value: vm.kScreenWorkingHour.code, enable:vm.isKScreenUpdateMode()?false:true, required: true, name: '#[KSM008_159]'},
                                         style: { width: '27px', marginRight: '5px'}
                                "/>
                            </div>
                            <div class="cell valign-center">
                                <!-- K6_3  -->
                                <input tabindex="8" id="K6_3"
                                       data-bind="
                                       ntsTextEditor: {constraint: 'MaxDayOfWorkTimeName', value: vm.kScreenWorkingHour.name, required: true, name: '#[KSM008_160]'}
                                      "/>
                            </div>
                        </div>
                        <div class="table" style="margin-top: 7px">
                            <!-- K7_1 -->
                            <div class="cell valign-center" style="width: 155px">
                                <div data-bind="ntsFormLabel: {enable: true, required:true}">#{i18n.getText('KSM008_161')}</div>
                            </div>
                            <!-- K7_2 -->
                            <div class="cell valign-center">
                                <button tabindex="9" data-bind="click: openKdl001ModalKScreen" id="K7_2"
                                        style="margin-right: 6px;margin-left: 27px;width: 48px">#{i18n.getText('KSM008_162')}</button>
                            </div>
                            <!-- K7_3-->
                            <div class="cell valign-center">
                                <input style="width: 180px" data-bind="ntsTextEditor: {value: vm.kScreenWorkingHour.workHour, enable: true, readonly: true}"/>
                            </div>
                        </div>
                        <div class="table" style="margin-top: 7px">
                            <!-- K8_1 -->
                            <div class="cell valign-center" style="width: 155px">
                                <div data-bind="ntsFormLabel: { constraint: 'MaxDay', enable: true, required:true}">#{i18n.getText('KSM008_164')}</div>
                            </div>
                            <!-- K8_2 -->
                            <div class="cell valign-center">
                                <input tabindex="10" id="K8_2"
                                       data-bind="ntsNumberEditor: {constraint: 'MaxDay', value: vm.kScreenWorkingHour.numberOfConDays, required: true, name: '#[KSM008_165]'}, style: { width: '27px', marginRight: '6px', marginLeft: '26px'}"/>
                            </div>
                            <!-- K8_3 -->
                            <div class="cell valign-center">
                                <span>#{i18n.getText('KSM008_166')}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </com:ko>
        </div>
        <div id="tabpanel-2" role="tabpanel">
            <ui:include src="../l/index.xhtml"/>
        </div>
    </ui:define>
</ui:composition>
</body>
</html>

