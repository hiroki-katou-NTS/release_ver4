<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
	<body>
		<ui:composition template="../../../../master/dialog.xhtml">
			<ui:define name="htmlHead">
				<script>var dialogSize = { width: 1280, height: 780 };</script>
				<com:stylefile path="ksm005.b.main.css" />
				<com:scriptfile set="IGNITE" />
				<com:stylefile path="/view/kcp/006/a/fullcalendar-lib/nts-calendar.css" of="/nts.uk.at.web"/>
				<com:stylefile path="/view/kcp/006/a/fullcalendar-lib/fullcalendar.min.css" of="/nts.uk.at.web"/>
				<com:scriptfile path="/view/kcp/006/a/kcp006.a.service.js" of="/nts.uk.at.web"/>
				<com:scriptfile path="/view/kcp/006/a/fullcalendar-lib/fullcalendar.min.js" of="/nts.uk.at.web"/>
				<com:scriptfile path="/view/kcp/006/a/fullcalendar-lib/calendar-ko-ext.js" of="/nts.uk.at.web"/>
				<com:scriptfile path="/view/kcp/006/a/fullcalendar-lib/locale-all.js" of="/nts.uk.at.web"/>
				<com:scriptfile path="ksm005.b.start.js" />
				<com:scriptfile path="ksm005.b.service.js" />
				<com:scriptfile path="ksm005.b.vm.js" />
				<com:ValidatorScript>
					nts.uk.ctx.at.schedule.dom.shift.pattern.monthly.MonthlyPatternCode
					nts.uk.ctx.at.schedule.dom.shift.pattern.monthly.MonthlyPatternName
				</com:ValidatorScript>
			</ui:define>
			<ui:define name="content">
				<div id="functions-area">
					<a tabindex="-1" class="goback" data-bind="ntsLinkButton: { jump: '../a/index.xhtml' }">#{i18n.getText('KSM005_7')}</a>
					
					<button tabindex="1" data-bind="click: resetData">#{i18n.getText('KSM005_8')}</button>
					<button tabindex="2" class="proceed" data-bind="click: saveDataMonthlyPattern">#{i18n.getText('KSM005_9')}</button>
					<button tabindex="3" data-bind="click: openBatchSettingDialog">#{i18n.getText('KSM005_10')}</button>
					<button tabindex="5" class="danger" data-bind="enable: enableDelete, click: deleteMonthlyPattern">#{i18n.getText('KSM005_12')}</button>
				</div>
				<div class="contents">
					<div tabindex="-1" class="pull-left monthlyPatternContents caret-right caret-background bg-green">
						<table id="lstMonthlyPattern" 
							data-bind="ntsGridList: {								
							height: 350,
							dataSource: lstMonthlyPattern,
							primaryKey: 'code',
							columns: columnMonthlyPatterns,
							multiple: false,
							value: selectMonthlyPattern
						}"></table>	
					</div>
					<div class="pull-left monthlyPatternDetail">
						<div data-bind="with: monthlyPatternModel">
							<div class="lableData" 
								data-name="#{i18n.getText('KSM005_16')}" 
								data-bind="ntsFormLabel: {required: true, constraint:['MonthlyPatternCode','MonthlyPatternName']}">
								<label>#{i18n.getText('KSM005_16')}</label>
							</div>
							<input tabindex="6" id="inp_monthlyPatternCode" 
								class="nts-input"
								data-bind="ntsTextEditor: {
								value: code,
								constraint: 'MonthlyPatternCode',
								option: {textmode: 'text'},
								required: true,
								name:'#[KSM005_17]', 
								enable: enableMonthlyPatternCode}" />
								
							<input tabindex="7" id="inp_monthlyPatternName" 
								class="nts-input" 
								data-bind="ntsTextEditor: {
								value: name,
								constraint: 'MonthlyPatternName',
								option: textEditorOptionName,
								required: true,
								name:'#[KSM005_18]', 
								enable: true,
								immediate: false}" />
						</div>
						<br/>
						<br/>
						<div tabindex="9" class="nts-calendar-container">
							<div class="nts-calendar-header">
								<div data-bind="ntsDatePicker: {
								value: yearMonthPicked, 
								dateFormat: 'yearmonth', 
								valueFormat: 'YYYYMM', 
								cssRanger: cssRangerYM,
								defaultClass: 'round-orange',
								showJumpButtons: true}"></div>
							</div>
							<div id="calendar" data-bind="ntsCalendar: {
								optionDates: optionDates, 
								yearMonth: yearMonthPicked, 
								firstDay: firstDay, 
								startDate: startDate, 
								endDate: endDate,
								workplaceId: workplaceId,
								workplaceName: workplaceName,
								eventDisplay: eventDisplay,
								eventUpdatable: eventUpdatable,
								holidayDisplay: holidayDisplay,
								cellButtonDisplay: cellButtonDisplay}">
							</div>
						</div>
					</div>
				</div>
			</ui:define>
		</ui:composition>
	</body>
</html>
