<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/sidebar.xhtml">
		<ui:define name="sidebar-head">
			<com:ValidatorScript>
				nts.uk.shr.com.primitive.PersonId
				nts.uk.shr.com.time.TimeWithDayAttr
				nts.uk.ctx.at.request.dom.application.common.AppReason
			</com:ValidatorScript>
			<com:scriptfile set="IGNITE" />
			<com:stylefile path="../../002/cm/kaf002.cm.main.css" />
			<com:stylefile path="../../002/m1/kaf002.m1.main.css" />
			<com:stylefile path="../../002/m2/kaf002.m2.main.css" />
			<com:stylefile path="../../002/m3/kaf002.m3.main.css" />
			<com:stylefile path="../../002/m4/kaf002.m4.main.css" />
			<com:stylefile path="../../002/m5/kaf002.m5.main.css" />
			<com:stylefile path="../../004/e/kaf004.e.style.css" />
			<com:stylefile path="../../009/b/kaf009.b.style.css" />
			<com:stylefile path="kaf000.b.main.css" />
			<com:scriptfile path="kaf000.b.vm.js" />
			<com:scriptfile path="kaf000.b.service.js" />
			<com:scriptfile path="../../002/shr/kaf002.shr.service.js" />
			<com:scriptfile path="../../002/shr/kaf002.shr.vm.js" />
			<com:scriptfile path="../../002/m1/kaf002.m1.vm.js" />
			<com:scriptfile path="../../002/m2/kaf002.m2.vm.js" />
			<com:scriptfile path="../../002/m3/kaf002.m3.vm.js" />
			<com:scriptfile path="../../002/m4/kaf002.m4.vm.js" />
			<com:scriptfile path="../../002/m5/kaf002.m5.vm.js" />
			<com:scriptfile path="../../004/e/kaf004.e.vm.js" />
			<com:scriptfile path="../../004/e/kaf004.e.service.js" />
			<com:scriptfile path="../../009/b/kaf009.b.service.js" />
			<com:scriptfile path="../../009/b/kaf009.b.vm.js" />
			<com:scriptfile path="../../002/cm/kaf002.cm.vm.js" />
			<com:scriptfile path="kaf000.b.start.js" />
		</ui:define>
		<ui:define name="content">
			<div id="functions-area">
				<!-- B1_1 -->
				<a class="goback" data-bind="ntsLinkButton: { jump: 'linkbutton.xhtml' }">#{i18n.getText('KAF000_14')}</a>
				<!-- B1_2 -->
				<button><i class="icon icon-button-arrow-left"></i></button>
				<!-- B1_3 -->
				<button><i class="icon icon-button-arrow-right"></i></button>
				<!-- B1_4 -->
				<button class="proceed" data-bind="click: btnApprove, enable: enableApprove">#{i18n.getText('KAF000_15')}</button>
				<!-- B1_5 -->
				<button data-bind="click: btnDeny, enable: enableDeny" >#{i18n.getText('KAF000_16')}</button>
				<!-- B1_6 -->
				<button >#{i18n.getText('KAF000_17')}</button>
				<!-- B1_7 -->
				<button data-bind="click: btnRelease, enable: enableRelease" >#{i18n.getText('KAF000_18')}</button>
				
				<!-- B1_8 -->
				<button class="proceed" data-bind="click: update , enable : enableRegistration">#{i18n.getText('KAF000_19')}</button>	
				<!-- <div data-bind="with: screenModel.cm" style="display: inline-block">
					<button class="proceed" data-bind="click: update">#{i18n.getText('KAF000_19')}</button>
				</div> -->
				
				<!-- B1_9 -->
				<button >#{i18n.getText('KAF000_20')}</button>
				<!-- B1_10 -->
				<button data-bind="click: btnReferences" >#{i18n.getText('KAF000_21')}</button>
				<!-- B1_11 -->
				<button data-bind="click: btnSendEmail" >#{i18n.getText('KAF000_22')}</button>
				
				<!-- B1_12 -->
				<button  class="danger" data-bind="click: btnDelete , enable : enableDelete" >#{i18n.getText('KAF000_23')}</button>
				
				<!-- B1_13 -->
				<button  class="danger" data-bind="click: btnCancel , enable : enableCancel">#{i18n.getText('KAF000_24')}</button>
				<br></br>
				<div id="comment"> 
					<label data-bind=" visible : visibleApproval">【承認】</label><label style="margin-left: 25px;" data-bind=" visible : visibleDenial">【否認】</label>
				</div>
			</div>
			<div id="contents-area">
				<!-- row1 -->
				<div id="message-area"> 
					<table >
						<tr data-bind =  "if : outputMessageDeadline() != null">
							<!-- A1_1 -->
							<td class="message-td" >#{i18n.getText('KAF000_1')}</td>
							<!-- A1_2 -->
							<td class="message-td"><div data-bind="text:outputMessageDeadline().message" ></div></td>
						</tr >
						<tr data-bind =  "if : outputMessageDeadline() != null">
							<!-- A1_3 -->
							<td class="message-td">#{i18n.getText('KAF000_2')}</td>
							<!-- A1_4 -->
							<td class="message-td"><div data-bind="text:outputMessageDeadline().deadline" ></div></td>
						</tr>
					</table>
				</div>
				<!-- row2 -->
				<div id="message-area" style="margin-top: 16px;">
					<!-- B3_1 -->
					<div class="message-td" >#{i18n.getText('KAF000_1')}</div>
					<div class="message-td" data-bind="text : reasonApp"></div>
				</div>
				<!-- row 2 -->
				<div style=" margin-top: 16px;margin-left: 39px;float: left;">
					<div  data-bind="ntsFormLabel: {}">#{i18n.getText('KAF000_28')}</div>
				</div>	
				<div style=" margin-top: 16px;">
					<textarea style="width: 687px;height: 50px;" data-bind="ntsMultilineEditor: { value:  listReasonToApprover , constraint: 'ResidenceCode'}" />
					
				</div>
				
				<!-- Body -->
				<com:ko-if bind="appType() == 7">
					<ui:include src="../../002/cm/index.xhtml" />
				</com:ko-if>
				<com:ko-if bind="appType() == 9">
					<ui:include src="../../004/e/index.xhtml" />
				</com:ko-if>
				<com:ko-if bind="appType() == 4">
					<ui:include src="../../009/b/index.xhtml" />
				</com:ko-if>
<!--  				<div style="height: 50px;background-color: gray ; margin-top: 30px;'">body</div> -->
				<!-- <div data-bind="with: screenModel.cm">
					<ui:include src="../../002/cm/index.xhtml" />
				</div>--> 
				
				<!-- <div class="divKaf009" data-bind="with: screenModel9">
					<ui:include src="../../009/b/index.xhtml"></ui:include>
				</div> -->
				<!-- end body -->
				
				<!-- Footer -->
				<div id="label-1" style="margin-left: 39px;">
					<!-- B6 -->
					<div  data-bind="ntsFormLabel: {}">#{i18n.getText('KAF000_37')}</div>
					
				</div>
				
				<div style="clear:both"></div>
				<div id="table-1" data-bind="with: dataApplication">
					<table id="table-phase">
						<thead>
							<tr  class="bg-green">
								<th class="phase-app" style="width:111px;"></th>
								<th class="name-app" style="width:111px;"></th>
								<th class="content-app" style="width:230px;">#{i18n.getText('KAF000_3')}</th>
								<th class="phase-app" style="width:111px;">#{i18n.getText('KAF000_29')}</th>
								<th class="name-app" style="width:111px;">#{i18n.getText('KAF000_30')}</th>
							</tr>
						</thead>
						<!-- foreach -->
						<tbody data-bind="foreach : listOutputPhaseAndFrame" >
							<com:ko bind="$data.listApprovalFrameDto" tag ="foreach">
								<tr>
									<com:ko bind="$index() === 0" tag="if">
										<td class="bg-green" data-bind="attr: {rowspan: $parent.listApprovalFrameDto.length}">
											フェーズ<label data-bind="text: $parent.appApprovalPhaseDto.phaseID"></label>
										</td>
									</com:ko>
									<td class="bg-green" >
										承認者<label data-bind="text: $data.dispOrder"></label>
									</td>
									<td>
										<label data-bind="text: $data.nameAll"></label>
									</td>
									<td><label data-bind="text: $data.approveAll"></label></td>
									<td><label data-bind="text: $data.reasonAll"> </label></td>
								</tr>
							</com:ko>
						</tbody>  
					</table>
				</div>
				<!-- end footer -->
			</div>
			
			
		</ui:define>
		
	</ui:composition>
</body>
</html>