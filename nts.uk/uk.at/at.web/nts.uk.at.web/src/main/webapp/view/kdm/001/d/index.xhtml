<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/dialog.xhtml">
		<ui:define name="htmlHead">
			<script>var dialogSize = { width: 535, height: 770 };</script>
			<com:scriptfile set="IGNITE" />
			<com:scriptfile path="../share/model.js" />
			<com:scriptfile path="kdm001.d.vm.js" />
			<com:scriptfile path="kdm001.d.start.js" />
			<com:stylefile path="kdm001.d.style.css" />
			<com:scriptfile path="kdm001.d.service.js" />
		</ui:define>
		<ui:define name="content">
			<div id="contents-area">
				<!--D1 文言-->
				<div class="down-s" id="D1">
					<span class="label">#{i18n.getText('KDM001_55')}</span>
				</div>
				<!--D2 対象者-->
				<div>
					<div id = "D2" data-bind="ntsFormLabel: {}">
						<!--D2_1 職場コード-->
						<span class="label" data-bind="text: workCode"></span>
						<!--D2_2職場名称-->
						<span class="label" data-bind="text: workplaceName"></span>
						<!--D2_3 ：-->
						<span class="label">#{i18n.getText('KDM001_58')}</span>
						<!--D2_4 社員コード-->
						<span class="label" data-bind="text: employeeCode"></span>
						<!--D2_5 社員名-->
						<span class="label" data-bind="text: employeeName"></span>
					</div>
				</div>
				<!-- D3 罫線 -->
				<div id ="D3" class="set-row">
					<hr />
				</div>
				<!-- D4 休出 -->
				<div id="D4"
					data-bind="ntsCheckBox: { checked: pickUp, enable: true, text: '#{i18n.getText('KDM001_61')}' }"></div>
				<!-- D5 罫線 -->
				<div id ="D5" class="set-row">
					<hr />
				</div>
				<div class="down-s set-date flex valign-center">
					<!-- D6 年月日 -->
					<div id="D6" class="labelTitle" data-bind="ntsFormLabel: { required: true }">#{i18n.getText('KDM001_62')}</div>
					<!-- D6_1 年月日 -->
					<!-- Datepicker -->
					<div id="D6_1" class="left-m"
						data-bind="ntsDatePicker: {name: '#{i18n.getText('KDM001_63')}',value: dayOff,required: pickUp, enable: pickUp, dateFormat: 'YYYY/MM/DD' }"></div>
					<!-- D6_2 休出日数 -->
					<span class="label" style="margin: 0 5px 0 80px;">#{i18n.getText('KDM001_64')}</span>
					<!-- D6_3 休出日数 -->
					<!-- Combobox -->
					<div id="D6_3" class="combo-box-payout-date"
						data-bind="ntsComboBox: {
					name: '#{i18n.getText('KDM001_65')}',
					options: itemListHoliday,
					optionsValue: 'code',
					visibleItemsCount: 5,
					value: occurredDays,
					optionsText: 'name',
					editable: false,
					enable: pickUp,
					required: pickUp,
					selectFirstIfNull: true,
					columns: [
						{ prop: 'name', length: 9 },
					]}">
					</div>
				</div>
				<div class="down-s set-date flex valign-center">
					<!-- D7 法定区分 -->
					<div id = "D7" class="labelTitle" data-bind="ntsFormLabel: { required: true }">#{i18n.getText('KDM001_70')}</div>		
					<!-- D7_1 法定区分 -->
					<!-- Combobox -->
					<div id="D7_1" class="combo-legal-classification left-m"
						data-bind="ntsComboBox: {
					name: '#{i18n.getText('KDM001_71')}',
					options: typeHoliday,
					optionsValue: 'code',
					visibleItemsCount: 5,
					value: lawAtr,
					optionsText: 'name',
					editable: false,
					enable: pickUp,
					required: pickUp,
					selectFirstIfNull: true,
					columns: [
						{ prop: 'name', length: 9 },
					]}">
					</div>
				</div>
				<div class="down-s set-due-date flex valign-center">
					<!-- D8 期限 -->		
					<div id="D8" class="labelTitle" data-bind="ntsFormLabel: { required: true }">#{i18n.getText('KDM001_72')}</div>
					<!-- D8_1 期限 -->
					<!-- Datepicker -->
					<div id="D8_1" class="left-m"
						data-bind="ntsDatePicker: {name: '#{i18n.getText('KDM001_73')}',value: expiredDate,required: pickUp,enable:pickUp, dateFormat: 'YYYY/MM/DD'}"></div>
				</div>

				<div class="down-s margin-left-0">
					<!-- D9 代休 -->
					<div id="D9"
						data-bind="ntsCheckBox: { checked: pause, enable: true, text: '#{i18n.getText('KDM001_74')}' }"></div>
				</div>
				<!-- D10 罫線 -->
				<div class="set-row">
					<hr />
				</div>
				<div class="down-s flex valign-center">
					<!-- D11 年月日 -->
					<div id="D11" class="labelTitle" data-bind="ntsFormLabel: { required: true }">#{i18n.getText('KDM001_75')}</div>
					<!-- D11_1 年月日 -->
					<!-- Datepicker -->
					<div id="D11_1" class="valid left-m"
						data-bind="ntsDatePicker: {name: '#{i18n.getText('KDM001_76')}',value: subDayoffDate, required: pause,enable: pause, dateFormat: 'YYYY/MM/DD'}"></div>
					<!-- D11_2 代休日数 -->
					<span class="label" style="margin: 0 5px 0 80px;">#{i18n.getText('KDM001_77')}</span>
					<!-- D11_3 代休日数 -->
					<!-- Combobox -->
					<div id="D11_3" class="combo-box-sub-holiday"
						data-bind="ntsComboBox: {
					name: '#{i18n.getText('KDM001_78')}',
					options: itemListSubHoliday,
					optionsValue: 'code',
					visibleItemsCount: 5,
					value: subDays,
					optionsText: 'name',
					editable: false,
					enable: pause,
					selectFirstIfNull: true,
					required: pause,
					columns: [
						{ prop: 'name', length: 9 },
					]}">
					</div>
				</div>
				<div class="down-s">
					<!-- D12 分割消化 -->
					<div id="D12"
						data-bind="ntsCheckBox: { checked: checkedSplit, enable: enableSplit, text: '#{i18n.getText('KDM001_79')}' }"></div>
					<div class="down-s flex valign-center" style="margin-left: 35px;">
						<!-- D12_1 年月日 -->
						<div class="sub-label-title" data-bind="ntsFormLabel: {}">#{i18n.getText('KDM001_80')}</div>
						<!-- D12_2 年月日 -->
						<!-- Datepicker -->
						<div id="D12_2" 
							data-bind="ntsDatePicker: {name: '#{i18n.getText('KDM001_81')}',value: holidayDate,required: checkedSplit,dateFormat: 'YYYY/MM/DD', enable: isOptionSubHolidayEnable}"></div>
						<!-- D12_3 代休日数 -->
						<span class="label" style="margin: 0 5px 0 25px;">#{i18n.getText('KDM001_82')}</span>
						<!-- D12_4 代休日数 -->
						<!-- Combobox -->
						<div id="D12_4" class="combo-box-option-sub-holiday"
							data-bind="ntsComboBox: {
							name: '#{i18n.getText('KDM001_83')}',
							options: itemListOptionSubHoliday,
							optionsValue: 'code',
							visibleItemsCount: 5,
							value: requiredDays,
							optionsText: 'name',
							editable: false,
							enable: isOptionSubHolidayEnable,
							selectFirstIfNull: true,
							required: pickUp,
							columns: [
								{ prop: 'name', length: 9 },
							]}">
						</div>
					</div>
					<div class="down-s flex valign-center" style="margin-left: 0px;">
						<!-- D16_1 -->
						<div id="D16_1" class="sub-label-title" data-bind="ntsFormLabel: {}">#{i18n.getText('KDM001_158')}</div>
						<!-- D16_2 -->
						<button class="width-112" id="D16_2" tabindex="14" data-bind="click: openKDL035, disable: isDisableOpenKDL035()">#{i18n.getText('KDM001_159')}</button>
						<div class="grid">
							<com:ko-foreach bind="displayLinkingDate">
								<span>
									<!-- D16_3 -->
									<span id="D16_3" class="label margin-left-25" data-bind="text: outbreakDay"></span>
									<!-- D16_4 -->
									<span data-bind="if: dateOfUse !== 0">
										<span id="D16_4" class="label margin-left-25" data-bind="text: dateOfUse + $vm.unit()"></span>
									</span>
								</span>
							</com:ko-foreach>
						</div>
					</div>
					<!-- D13 残数 -->
					<div class="label">#{i18n.getText('KDM001_84')}</div>
					<!-- D14 罫線 -->
					<div class="set-row">
						<hr />
					</div>
					<!-- D15 残数 -->
					<div id = "D15" class="labelTitle" data-bind="ntsFormLabel: { required: true }">#{i18n.getText('KDM001_85')}</div>
					<!-- D15_1 残数 -->
					<span class="label" data-bind="text: displayRemainDays" ></span>
					<span class="label" data-bind="if: displayRemainDays() || displayRemainDays() === 0" >
						<label data-bind="text: unit"></label>
					</span>
				</div>
			</div>
			<div id="functions-area-bottom">
				<div id="process" data-bind="visible: true"
					style="text-align: center;">
					<!-- D31_1 登録 -->
					<button id="D31_1" data-bind="click: createData" class="proceed large">#{i18n.getText('KDM001_89')}</button>
					<!-- D31_1 キャンセル -->
					<button id="D31_2" data-bind="click: closeDialog" >#{i18n.getText('KDM001_90')}</button>
				</div>
			</div>			
		</ui:define>
	</ui:composition>
</body>
</html>