<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/base.xhtml">
		<ui:define name="htmlHead">
            <com:ValidatorScript>
                nts.uk.ctx.at.shared.dom.specialholiday.SpecialHolidayCode
                nts.uk.ctx.at.shared.dom.specialholiday.SpecialHolidayName
                nts.uk.shr.com.primitive.Memo
                nts.uk.ctx.at.shared.dom.specialholiday.grantinformation.GrantedYears
                nts.uk.ctx.at.shared.dom.specialholiday.grantinformation.GrantedDays
                nts.uk.ctx.at.shared.dom.specialholiday.periodinformation.LimitCarryoverDays
                nts.uk.ctx.at.shared.dom.specialholiday.periodinformation.SpecialVacationMonths
                nts.uk.ctx.at.shared.dom.specialholiday.periodinformation.SpecialVacationYears
                nts.uk.ctx.at.shared.dom.specialholiday.periodinformation.StartDate
                nts.uk.ctx.at.shared.dom.specialholiday.periodinformation.EndDate
                nts.uk.ctx.at.shared.dom.specialholiday.grantcondition.AgeLimit
            </com:ValidatorScript>
			
			<com:scriptfile set="IGNITE" />
			<com:stylefile path="kmf004.a.style.css" />
			<com:scriptfile path="kmf004.a.start.js" />
			<com:scriptfile path="kmf004.a.vm.js" />
			<com:scriptfile path="kmf004.a.service.js" />
		</ui:define>

		<ui:define name="content">
			<div id="functions-area">
				<div class="container">
					<a class="goback" data-bind="ntsLinkButton: { jump: '/view/kmf/001/a/index.xhtml' }">#{i18n.getText('KMF004_70')}</a>
					<button id="NEW_BTN" tabindex="1"
						data-bind="click : initSpecialHoliday, enable: newModeEnable">#{i18n.getText('KMF004_1')}</button>
					<button id="REGISTER_BTN" class="proceed" tabindex="2"
						data-bind="click: saveSpecialHoliday, enable: $root.errors.isEmpty">#{i18n.getText('KMF004_2')}</button>
					<button id="DELETE_BTN" class="danger" tabindex="3"
						data-bind="click: deleteSpecialHoliday, enable: isEnable">#{i18n.getText('KMF004_3')}</button>
				</div>
			</div>
			<div id="contents-area" class="fixed-flex-layout">
				<div class="fixed-flex-layout-left">
					<div id="left-content"
						class="bg-green caret-right caret-background cf"
						style="width: 340px; height: 535px;"> 
						<div id="LST_001" style="margin-left: 10px; padding: 16px 10px;">
							<table id="single-list" tabindex="4"
								data-bind="ntsGridList: {	
									width: 300,
									height: 500,
									dataSource: sphdList,
									primaryKey: 'specialHolidayCode',
									columns: columns,
									multiple: false,								
									value: currentCode
							}"></table>
						</div>
					</div>
				</div>
				<div class="right-content fixed-flex-layout-right">
					<table class="top-content-tbl">
						<tr>
							<td width="180">
								<div data-bind="ntsFormLabel: {required: true, constraint:['SpecialHolidayCode', 'SpecialHolidayName']}">#{i18n.getText('KMF004_7')}</div>
							</td>
							<td width="70">
								<input tabindex="5" id="input-code" class="code" data-bind="ntsNumberEditor: {value: specialHolidayCode, constraint:'SpecialHolidayCode' ,option: {  }, required: true, enable: isDisable, name: '#[KMF004_5]'} " />
							</td>
							<td>
								 <input tabindex="6" id="input-name" class="name" data-bind="ntsTextEditor: {value: specialHolidayName, constraint:'SpecialHolidayName', required: true, name: '#[KMF004_6]'}" />
							</td>
						</tr>
						
						<tr>
							<td>
								<div data-bind="ntsFormLabel: {required: true}">#{i18n.getText('KMF004_8')}</div>
							</td>
							<td>
								<button tabindex="7" data-bind="click : openJDialog">#{i18n.getText('KMF004_9')}</button>
							</td>
							<td>
								<input id="target-items" class="workTypes" data-bind="ntsTextEditor: { value: targetItemsName, enable: true, name: '#[KMF004_8]', required: true, readonly: true }" />
							</td>
						</tr>
						
						<tr>
							<td>
								<div data-bind="ntsFormLabel: {required: true}">#{i18n.getText('KMF004_164')}</div>
							</td>
							<td colspan="2">
								<div tabindex="8" id="auto_grant" data-bind="ntsSwitchButton: {
													name: '#[KMF004_164]',
													options: autoGrants ,
													optionsValue: 'code',
													optionsText: 'name',
													value: autoGrant ,
													required: true ,
													enable: true }"></div>
							</td>
						</tr>
						
						<tr>
							<td>
								<div data-bind="ntsFormLabel: {constraint: 'Memo'}">#{i18n.getText('KMF004_10')}</div>
							</td>
							<td colspan="2">
								<textarea tabindex="9" class="memo" data-bind="ntsMultilineEditor: {value: memo, name: '#[KMF004_10]', constraint: 'Memo'}" />
							</td>
						</tr>
					</table>
					
					<div id="tab-panel" data-bind="ntsTabPanel: { dataSource: tabs, active: selectedTab},visible:autoGrant()==1" tabindex="10">
						<div class="tab-content-1">
							<table class="grant-date-tbl">
								<tr>
									<td width="220"><div data-bind="ntsFormLabel: { required: true }">#{i18n.getText('KMF004_14')}</div></td>
									<td>
										<div tabindex="11" class="cf grant-date" data-bind="ntsSwitchButton: {
											name: 'grantDate',
											options: grantDateOptions,
											optionsValue: 'code',
											optionsText: 'name',
											value: selectedGrantDate,
											required: true,
											enable: true }"></div>
									</td>
								</tr>
							</table>
							
							<table class="method-tbl">
								<tr>
									<td><div data-bind="ntsFormLabel: { required: true }">#{i18n.getText('KMF004_18')}</div></td>
								</tr>
								<tr>
									<td>
									<div class="row" style="padding: 10px 0px 20px 30px;">
										<div data-bind="ntsRadioButton: {
														option: methods1,
														checked: selectedMethod,
														enable: true,
														optionValue: 'id', 
														optionText: 'name'}"
										class="cell" style="margin-right: 20px;width: 270px"></div>
										<div class="year-lbl cell">#{i18n.getText('KMF004_21')}</div>
										<div class="year-inp cell">
											<input tabindex="13" id="years" data-bind="ntsNumberEditor: {
												value: years, 
												constraint: 'GrantedYears',
												name: '#[KMF004_21]',
												option: ko.mapping.fromJS({
													unitID: 'YEARS',
													width: '50'
												}),
												required: yearReq,
												enable: yearEnable }" />
										</div>
										<div class="day-lbl cell">#{i18n.getText('KMF004_22')}</div>
										<div class="day-inp cell">
											<input tabindex="14" id="days" data-bind="ntsNumberEditor: {
												value: days, 
												constraint: 'GrantedDays',
												name: '#[KMF004_22]',
												option: ko.mapping.fromJS({
													unitID: 'DAYS',
													width: '60'
												}),
												required: dayReq,
												enable: dayEnable }" />
										</div>
										</div>
									<div class="row" style="padding-left: 30px;">
									<div data-bind="ntsRadioButton: {
														option: methods2,
														checked: selectedMethod,
														enable: true,
														optionValue: 'id', 
														optionText: 'name'}"
									class="cell" style="width: 270px"></div>
									<button tabindex="15" class="cell" style="margin-left: 20px"
										data-bind="click : openDialogD, enable: dialogDEnable">#{i18n.getText('KMF004_23')}</button>
									<div class="cell" style="padding-left: 300px">#{i18n.getText('KMF004_24')}</div>
										</div>
									</td>
								</tr>
								<tr>
									<td>
									<!-- 	<div class="check-allow">
											<div tabindex="15" data-bind="ntsCheckBox: { checked: allowDisappear }">#{i18n.getText('KMF004_25')}</div>
											<div class="allow-hint">#{i18n.getText('KMF004_26')}</div>
										</div> -->
									</td>
								</tr>
							</table>
						</div>
						
						<div class="tab-content-2">
							<div class="top-lbl">#{i18n.getText('KMF004_27')}</div>
							
							<table class="exp-date-tbl">
								<tr>
									<td>
										<div tabindex="16" class="timeMethods" data-bind="ntsRadioBoxGroup: {
											options: timeMethods,
											optionsValue: 'id',
											optionsText: 'name',
											value: selectedTimeMethod,
											enable: true }"></div>
									</td>
								</tr>
							</table>
							
							<table class="exp-date-options">
								<tr>
									<td width="120">#{i18n.getText('KMF004_32')}</td>
									<td>
										<div class="limited-days">
											<input tabindex="17" id="limitedDays" data-bind="ntsNumberEditor: {
												value: limitedDays, 
												constraint: 'LimitCarryoverDays',
												name: '#[KMF004_32]',
												option: ko.mapping.fromJS({
													unitID: 'DAYS',
													width: '70'
												}),
												enable: limitedDaysEnable }" />
										</div>
									</td>
								</tr>
								<tr>
									<td>#{i18n.getText('KMF004_27')}</td>
									<td>
										<div class="exp-years">
											<input tabindex="18" id="exp-year" data-bind="ntsNumberEditor: {
												value: expYears, 
												constraint: 'SpecialVacationYears',
												name: '#[KMF004_33]',
												option: ko.mapping.fromJS({
													unitID: 'YEARS',
													width: '70'
												}),
												enable: expYearEnable }" />
										</div>
											
										<div class="exp-months">
											<input tabindex="19" id="exp-month" data-bind="ntsNumberEditor: {
												value: expMonth, 
												constraint: 'SpecialVacationMonths',
												name: '#[KMF004_34]',
												option: ko.mapping.fromJS({
													unitID: 'MONTHS',
													width: '70'
												}),
												enable: expMonthEnable }" />
										</div>
									</td>
								</tr>
								<tr>
									<td></td>
									<td></td>
								</tr>
								<tr>
									<td colspan="2">
									<div>
											<div id="startDate" style="float: left;"
												data-bind="ntsMonthDays: {name:'#[KMF004_44]',value: startYM , required: startDateEnable , enable: startDateEnable }" />
											<div
												style="float: left; line-height: 30px; margin-left: 5px;">#{i18n.getText('KMF004_45')}</div>
											<div id="endDate" style="float: left; margin-left: 15px;"
												data-bind="ntsMonthDays: {name:'#[KMF004_46]',value: endYM , required: startDateEnable , enable: startDateEnable }" />
										</div>
									</td>
								</tr>
							</table>
						</div>
						
						<div class="tab-content-3">
							<div class="top-lbl-hint">#{i18n.getText('KMF004_47')}</div>
							
							<table class="condition-set-tbl">
								<tr>
									<td width="100"><div tabindex="22" data-bind="ntsCheckBox: { checked: genderSelected }">#{i18n.getText('KMF004_53')}</div></td>
									<td>
										<div tabindex="23" class="cf genderOptions" data-bind="ntsSwitchButton: {
											name: 'gender',
											options: genderOptions,
											optionsValue: 'code',
											optionsText: 'name',
											value: selectedGender,
											required: true,
											enable: genderOptionEnable }"></div>
									</td>
								</tr>
								<tr>
									<td><div tabindex="24" data-bind="ntsCheckBox: { checked: empSelected }">#{i18n.getText('Com_Employment')}</div></td>
									<td>
										<button tabindex="25" data-bind="click : openCDL002Dialog, enable: empLstEnable">#{i18n.getText('KMF004_9')}</button>
										<input class="empLst" data-bind="ntsTextEditor: {value: cdl002Name, enable: empLstEnable, name: '#[Com_Employment]', required: true, readonly: true}" />
									</td>
								</tr>
								<tr>
									<td><div tabindex="26" data-bind="ntsCheckBox: { checked: clsSelected }">#{i18n.getText('Com_Class')}</div></td>
									<td>
										<button tabindex="27" data-bind="click : openCDL003Dialog, enable: clsLstEnable">#{i18n.getText('KMF004_9')}</button>
										<input class="clsLst" data-bind="ntsTextEditor: {value: cdl003Name, enable: clsLstEnable, name: '#[Com_Class]', required: true, readonly: true}" />
									</td>
								</tr>
								<tr>
									<td><div tabindex="28" data-bind="ntsCheckBox: { checked: ageSelected }">#{i18n.getText('KMF004_48')}</div></td>
									<td>
										<div class="start-age">
											<input tabindex="29" id="startAge" data-bind="ntsNumberEditor: {
												value: startAge, 
												constraint: 'AgeLimit',
												name: '#[KMF004_49]',
												option: ko.mapping.fromJS({
													unitID: 'AGE',
													width: '60'
												}),
												required: ageBaseDateReq,
												enable: startAgeEnable }" />
										</div>
												
										<div class="nav-lbl">#{i18n.getText('KMF004_45')}</div>
										
										<div class="end-age">
											<input tabindex="30" id="endAge" data-bind="ntsNumberEditor: {
												value: endAge, 
												constraint: 'AgeLimit',
												name: '#[KMF004_50]',
												option: ko.mapping.fromJS({
													unitID: 'AGE',
													width: '60'
												}),
												required: ageBaseDateReq,
												enable: endAgeEnable }" />
										</div>
									</td>
								</tr>
								<tr>
									<td colspan="2">
										<div class="age-standard-setting">
											<div class="age-standard">年齢基準</div>
											
											<div tabindex="31" class="age-criteria" id="combo-box" data-bind="ntsComboBox: {
												name: '#[KMF004_51]',
												options: ageCriteriaCls,
												optionsValue: 'code',
												value: selectedAgeCriteria,
												optionsText: 'name',
												enable: ageCriteriaClsEnable,
												required: true,
												columns: [
													{ prop: 'name', length: 5 }
												]}"></div>
											
											<div tabindex="32" id="ageBaseDate" data-bind="ntsMonthDays: { 
												value: ageBaseDate, 
												name: '#[KMF004_52]', 
												required: ageBaseDateReq,
												selectFirstIfNull: ageBaseDateDefaultValue,
												enable: ageBaseDateEnable }"/>
										</div>
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>