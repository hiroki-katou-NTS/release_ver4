<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
	<com:ValidatorScript>
            nts.uk.shr.com.time.TimeWithDayAttr
            nts.uk.ctx.at.shared.dom.common.time.AttendanceTime
        </com:ValidatorScript>

	<!-- Fixed rest time switch button -->
	<com:ko tag="if" bind="isFlex">
		<div class="control-group">
			<div data-bind="ntsFormLabel: {}">#{i18n.getText('KMK003_141')}</div>
			<div
				data-bind="ntsSwitchButton: {
							options: switchDs,
							optionsValue: 'code',
							optionsText: 'name',
							value: flexFixedRestTime,
							enable: true }"></div>
		</div>
	</com:ko>
	<com:ko tag="if" bind="isFlow">
		<div class="control-group">
			<div data-bind="ntsFormLabel: {}">#{i18n.getText('KMK003_141')}</div>
			<div
				data-bind="ntsSwitchButton: {
							options: switchDs,
							optionsValue: 'code',
							optionsText: 'name',
							value: flowFixedRestTime,
							enable: true }"></div>
		</div>
	</com:ko>
	<!-- Fixed rest time switch button -->

	<!-- Fixed timezones -->
	<com:ko tag="if" bind="isFixed">
		<!-- One day -->
		<div tabindex="-1" class="accordion"
			data-bind="ntsAccordion: {enable: true} ">
			<h3>
				<label>#{i18n.getText('KMK003_51')}</label>
			</h3>
			<div data-bind="ntsFixTableCustom: {option: oneDayFixedTimezoneOption}"></div>
		</div>
		<!-- One day -->

		<!-- Morning -->
		<div tabindex="-1" class="accordion"
			data-bind="ntsAccordion: {enable: true} ">
			<h3>
				<label>#{i18n.getText('KMK003_60')}</label>
			</h3>
			<div data-bind="ntsFixTableCustom: {option: morningFixedTimezoneOption}"></div>
		</div>
		<!-- Morning -->

		<!-- Afternoon -->
		<div tabindex="-1" class="accordion"
			data-bind="ntsAccordion: {enable: true} ">
			<h3>
				<label>#{i18n.getText('KMK003_61')}</label>
			</h3>
			<div data-bind="ntsFixTableCustom: {option: afternoonFixedTimezoneOption}"></div>
		</div>
		<!-- Afternoon -->
	</com:ko>
	<!-- Fixed timezones -->

	<!-- Flex timezones -->
	<com:ko tag="if" bind="isFlexTimezone">
		<!-- One day -->
		<div tabindex="-1" class="accordion"
			data-bind="ntsAccordion: {enable: true} ">
			<h3>
				<label>#{i18n.getText('KMK003_51')}</label>
			</h3>
			<div data-bind="ntsFixTableCustom: {option: oneDayFlexTimezoneOption}"></div>
		</div>
		<!-- One day -->

		<!-- Morning -->
		<div tabindex="-1" class="accordion"
			data-bind="ntsAccordion: {enable: true} ">
			<h3>
				<label>#{i18n.getText('KMK003_60')}</label>
			</h3>
			<div data-bind="ntsFixTableCustom: {option: morningFlexTimezoneOption}"></div>
		</div>
		<!-- Morning -->

		<!-- Afternoon -->
		<div tabindex="-1" class="accordion"
			data-bind="ntsAccordion: {enable: true} ">
			<h3>
				<label>#{i18n.getText('KMK003_61')}</label>
			</h3>
			<div data-bind="ntsFixTableCustom: {option: afternoonFlexTimezoneOption}"></div>
		</div>
		<!-- Afternoon -->
	</com:ko>
	<!-- Flex timezones -->

	<!-- Flex rest time -->

	<com:ko tag="if" bind="isFlexRestTime">
		<!-- One day -->
		<div tabindex="-1" class="accordion"
			data-bind="ntsAccordion: {enable: true} ">
			<h3>
				<label>#{i18n.getText('KMK003_51')}</label>
			</h3>
			<div>
				<div
					data-bind="ntsFixTableCustom: {option: oneDayFlexRestSetOption}"></div>
				<div
					data-bind="ntsCheckBox: {
                 checked: oneDayAfterRestSetUse,
                 enable: true,
                 text: nts.uk.resource.getText('KMK003_144') }"></div>
				<table class="tbl-after-restset" data-bind="with: oneDayAfterRestSet">
					<tr>
                 		<th>#{i18n.getText('KMK003_174')}</th>
                 		<th>#{i18n.getText('KMK003_176')}</th>
                 	</tr>
					<tr>
						<td><input data-bind="ntsTimeEditor: { constraint: 'AttendanceTime', value: flowRestTime,
                        required: true, inputFormat: 'time', mode: 'time', enable: $parent.oneDayAfterRestSetUse }" /></td>
						<td><input data-bind="ntsTimeEditor: { constraint: 'AttendanceTime', value: flowPassageTime,
                        required: true, inputFormat: 'time', mode: 'time', enable: $parent.oneDayAfterRestSetUse }" /></td>
					</tr>
				</table>
			</div>
		</div>

		<!-- Morning -->
		<div tabindex="-1" class="accordion"
			data-bind="ntsAccordion: {enable: true} ">
			<h3>
				<label>#{i18n.getText('KMK003_60')}</label>
			</h3>
			<div class="control-group">
				<div data-bind="ntsFixTableCustom: {option: morningFlexRestSetOption}"></div>
				<div
					data-bind="ntsCheckBox: {
                 checked: morningAfterRestSetUse,
                 enable: true,
                 text: nts.uk.resource.getText('KMK003_144') }"></div>
                 <table class="tbl-after-restset" data-bind="with: morningAfterRestSet">
                 	<tr>
                 		<th>#{i18n.getText('KMK003_174')}</th>
                 		<th>#{i18n.getText('KMK003_176')}</th>
                 	</tr>
					<tr>
						<td><input data-bind="ntsTimeEditor: { constraint: 'AttendanceTime', value: flowRestTime,
                        required: true, inputFormat: 'time', mode: 'time', enable: $parent.morningAfterRestSetUse }" /></td>
						<td><input data-bind="ntsTimeEditor: { constraint: 'AttendanceTime', value: flowPassageTime,
                        required: true, inputFormat: 'time', mode: 'time', enable: $parent.morningAfterRestSetUse }" /></td>
					</tr>
				</table>
			</div>
		</div>

		<!-- Afternoon -->
		<div tabindex="-1" class="accordion"
			data-bind="ntsAccordion: {enable: true} ">
			<h3>
				<label>#{i18n.getText('KMK003_61')}</label>
			</h3>
			<div class="control-group">
				<div id="ntsft-a5-afternoonFlex"
					data-bind="ntsFixTableCustom: {option: morningFlexRestSetOption}"></div>
				<div
					data-bind="ntsCheckBox: {
                 checked: afternoonAfterRestSetUse,
                 enable: true,
                 text: nts.uk.resource.getText('KMK003_144') }"></div>
                 <table class="tbl-after-restset" data-bind="with: afternoonAfterRestSet">
                 	<tr>
                 		<th>#{i18n.getText('KMK003_174')}</th>
                 		<th>#{i18n.getText('KMK003_176')}</th>
                 	</tr>
					<tr>
						<td><input data-bind="ntsTimeEditor: { constraint: 'AttendanceTime', value: flowRestTime,
                        required: true, inputFormat: 'time', mode: 'time', enable: $parent.afternoonAfterRestSetUse }" /></td>
						<td><input data-bind="ntsTimeEditor: { constraint: 'AttendanceTime', value: flowPassageTime,
                        required: true, inputFormat: 'time', mode: 'time', enable: $parent.afternoonAfterRestSetUse }" /></td>
					</tr>
				</table>
			</div>
		</div>

	</com:ko>

	<!-- End of Flex rest time -->

	<!-- flow timezones -->
	<com:ko tag="if" bind="isFlowTimezone">
		<div data-bind="ntsFixTableCustom: {option: flowTimezoneOption}"></div>
	</com:ko>
	<!-- End of flow timezones -->

	<!-- flow rest set -->
	<com:ko tag="if" bind="isFlowRestTime">
		<div data-bind="ntsFixTableCustom: {option: flowRestSetOption}"></div>
		<div
			data-bind="ntsCheckBox: {
                 checked: flowRestSetUse,
                 enable: true,
                 text: nts.uk.resource.getText('KMK003_144') }"></div>
	</com:ko>
	<!-- End of flow timezones -->

</ui:composition>