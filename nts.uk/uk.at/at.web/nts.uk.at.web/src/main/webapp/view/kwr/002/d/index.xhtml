<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/dialog.xhtml">
		<ui:define name="htmlHead">
			<script>var dialogSize = { width: 960, height: 800 };</script>
			<com:ValidatorScript>
				nts.uk.ctx.at.function.dom.attendancerecord.item.ItemName
			</com:ValidatorScript>
			<com:scriptfile set="IGNITE" />
			<com:stylefile path="kwr002.d.style.css" />
			<com:scriptfile path="kwr002.d.start.js" />
			<com:scriptfile path="kwr002.d.vm.js" />
			<com:scriptfile path="kwr002.d.service.js" />
		</ui:define>
		<ui:define name="content">
			<div class="header-content">
				<div data-bind="ntsFormLabel: {}">
					#{i18n.getText('KWR002_130')} <span data-bind="text:layoutCode"
						style="margin-left: 10px"></span> <span style="margin-left: 10px;"
						data-bind="text:layoutName"></span> <span
						style="margin-left: 20px;" data-bind="text:directText"></span>
				</div>
			</div>

			<div class="contents-area" style="display: inline-block">
				<div>
					<table>
						<colgroup>
							<col width="90" />
							<col width="*" />
						</colgroup>

						<tr class="row">
							<td>
								<div
									data-bind="ntsFormLabel: { constraint: 'ItemName', required: true }">#{i18n.getText('KWR002_134')}</div>
							</td>
							<td><input id="attendanceName" tabindex="1"
								class="nts-input"
								data-bind="ntsTextEditor: {
                                          name: '#[KWR002_135]',
                                          value: attendanceRecordName,
                                          constraint: 'ItemName',
                                          enable: true,
                                          required: true}" /></td>
						</tr>
					</table>
				</div>

				<div class="swaplist-content">
					<div id="left-content"
						class="bg-green caret-right caret-background fixed-flex-layout-left">
						<i class="icon icon-searchbox"></i>
						<div class="cf">
							<div class="drop-down-attendance">
								<div class="labelCombo">
									<span>#{i18n.getText('KWR002_136')}</span>
								</div>
								<div tabindex="2" style="width: 110px; margin-left: 15px;"
									id="combo-box" class="combo"
									data-bind="ntsComboBox: {
																name: '#[KWR002_135]',
																options: listAttendanceType,
																optionsValue: 'attendanceTypeCode',
																value: typeAttendanceCodeSelected,
																optionsText: 'attendanceTypeName',
																editable: false,
																enable: true,
																required: true,
																selectFirstIfNull: true,
																columns: [
																	{ prop: 'attendanceTypeName', length: 7 },
																]}"></div>

							</div>
							<div tabindex="3" style="width: 247px"
								data-bind="ntsSearchBox: {searchMode: 'filter',targetKey: 'attendanceItemId', comId: 'multi-list', 
								items: dataSource, selected: currentCodeAttendance, selectedKey: 'attendanceItemId', fields: ['attendanceItemId', 'attendanceItemName'], mode: 'igGrid'}" />

							<table tabindex="4" id="multi-list"
								data-bind="ntsGridList: {
													name: '#[KWR002_145]',
													height: 370,
													options: dataSource,
													optionsValue: 'attendanceItemId',
													columns: columns,
													multiple: false,
													value: currentCodeAttendance
							}"></table>
						</div>
					</div>
					<div class="group-swith-button" style="float: left">
						<div>
							<button tabindex="7" data-bind="click: selectAttendanceRec">
								<i class="icon icon-button-arrow-right" style="width: 23px;"></i>
							</button>
						</div>
						<div style="margin-top: 20px;">
							<button tabindex="8" data-bind="click: removeAttendanceSelected">
								<i class="icon icon-button-arrow-left" style="width: 23px;"></i>
							</button>
						</div>
					</div>
					<div id="right-content" class="bg-green"
						style="float: left; margin-top: 30px;">
						<div class="cf">
							<div style="float: left">
								<table id="single-list-dataSource"
									data-bind="ntsGridList:{
									name:'#[KWR002_148]',
									width: 250,
									height: 48,
									options: dataSelected,
									optionsValue: 'attendanceItemId',
									columns: columnsSelected,
									multiple: false,
									value:codeChoosen ,
									enable: false}">
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div id="functions-area-bottom"
				style="margin-top: 30px; position: unset">
				<button tabindex="9" class="x-large proceed"
					data-bind="click: decideButtonClick">#{i18n.getText('KWR002_151')}</button>
				<button tabindex="10" class="large" data-bind="click: closeDialog">#{i18n.getText('KWR002_152')}</button>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>