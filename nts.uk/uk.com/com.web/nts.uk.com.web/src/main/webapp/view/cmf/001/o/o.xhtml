<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition>
		<!-- O 受入設定選択 -->
		<div class="contentO" tabindex="-1">
			<div class="step-1" tabindex="-1">
				<div class="label" style="margin-bottom: 15px;" tabindex="-1">#{i18n.getText('CMF001_436')}</div>
				<table style="margin-bottom: 15px; margin-left: 20px" tabindex="-1">
					<tr>
						<td style="padding-right: 20px;">
							<!--O5＿1 システム種類（ラベル）-->
							<div class="label" tabindex="-1">#{i18n.getText('CMF001_442')}</div>
						</td>
						<td>
							<!--O5_2 システム種類選択-->
							<div id="cbbSysType" tabindex="3"
								data-bind="ntsComboBox: {
									options: listSysType,
									optionsValue: 'code',
									visibleItemsCount: 5,
									value: selectedSysType,
									optionsText: 'name',
									columns: [
										{ prop: 'name', length: 10 }
									]}"></div>
						</td>
					</tr>
				</table>
				<table style="width: 100%;" tabindex="-1">
					<tr>
						<td rowspan="2" style="width: 360px;">
							<div class="" style="width: 360px; float: left;">
								<!--O4_1 条件設定選択(パネル)-->
								<div tabindex="-1"
									data-bind="ntsPanel:{width: '320px', height: '464px', direction: 'none', showIcon: true, visible: true}">
									<!--O4_2 コード/名称-->
									<div data-bind="ntsFormLabel: { }">#{i18n.getText('CMF001_438')}</div>
									<!--O4_3 絞り込み検索-->
									<div tabindex="2" style="width: 320px"
										data-bind="ntsSearchBox: {
											searchMode: 'filter', 
											targetKey: 'dispConditionSettingCode', 
											comId: 'grd_Condition', 
											items: listCondition, 
											selected: selectedConditionCd, 
											selectedKey: 'dispConditionSettingCode', 
											fields: ['dispConditionSettingCode', 'dispConditionSettingName'], 
											mode: 'igGrid'}" />
									<!--O4_4 条件設定一覧-->
									<table id="grd_Condition" tabindex="-1"
										data-bind="ntsGridList: {
											height: 384,
											name: '#[CMF001_39]', 
				 							dataSource: listCondition,
											primaryKey: 'dispConditionSettingCode', 
											showNumbering: true,
				 							columns: [
										    	{ headerText: '#{i18n.getText('CMF001_440')}', key: 'dispConditionSettingCode', width: 60, formatter: _.escape },
										    	{ headerText: '#{i18n.getText('CMF001_441')}', key: 'dispConditionSettingName', width: 220, formatter: _.escape }
										    ], 
											multiple: false,
											value: selectedConditionCd}">
									</table>
								</div>
							</div>
						</td>
						<td style="vertical-align: top" tabindex="-1">
							<!--O5_3 取込情報パネル-->
							<div class="panel panel-frame" tabindex="-1"
								style="margin-left: 20px; height: 75px">
								<table tabindex="-1">
									<colgroup>
										<col width="130px" />
										<col width="40px" />
										<col width="230px" />
									</colgroup>
									<tr>
										<td style="padding: 10px 0px">
											<!--O5_4 条件コード/名称-->
											<div class="label" tabindex="-1">#{i18n.getText('CMF001_444')}</div>
										</td>
										<td>
											<!--O5_5 条件コード-->
											<div class="label" data-bind="text: selectedConditionCd"
												tabindex="-1"></div>
										</td>
										<td>
											<!--O5_6 条件名称-->
											<div class="label" data-bind="text: selectedConditionName"
												tabindex="-1"></div>
										</td>
									</tr>
									<tr>
										<td>
											<!--O5_7 受入ファイル-->
											<div data-bind="ntsFormLabel: {required: true }"
												tabindex="-1">#{i18n.getText('CMF001_445')}</div>
										</td>
										<td colspan="2">
											<!--O5_8 受入ファイルアップロード-->
											<div id="file-upload" class="form_step0" tabindex="4"
												style="display: inline-block;"
												data-bind="ntsFileUpload:{
													filename: fileName,
													accept: ['.csv'],
													text: textId,
													aslink: false,
													enable: true,
													required: true,
													onchange: uploadFile.bind($data)}">
											</div>
										</td>
									</tr>
								</table>
							</div>
						</td>
					</tr>
					<tr>
						<td style="vertical-align: bottom; padding-left: 10px;">
							<!--O6_1 ←処理を選びなおす-->
							<button class="large" tabindex="5">#{i18n.getText('CMF001_448')}</button>
							<!--O6_2 次へ→-->
							<button class="proceed x-large" tabindex="6"
								style="margin-left: 10px" data-bind="click: gotoExAccSummary">#{i18n.getText('CMF001_449')}</button>
						</td>
					</tr>
				</table>
			</div>
		</div>
	</ui:composition>
</body>
</html>