<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="/master/dialog.xhtml">
		<ui:define name="htmlHead">
			<script>
				var dialogSize = {
					width : 1000,
					height : 550
				};
			</script>
			<com:ValidatorScript>
	            nts.uk.ctx.exio.dom.exo.outcnddetail.OutCndCharVal
	            nts.uk.ctx.exio.dom.exo.outcnddetail.OutCndNumVal
	            nts.uk.shr.com.time.AttendanceClock
	            nts.uk.ctx.exio.dom.exo.outcnddetail.AttendanceTime
            </com:ValidatorScript>
			<com:stylefile path="cmf002.d.style.css" />
			<com:scriptfile set="IGNITE" />
			<com:scriptfile path="../share/model.js" />
			<com:scriptfile path="cmf002.d.service.js" />
			<com:scriptfile path="cmf002.d.vm.js" />
			<com:scriptfile path="cmf002.d.start.js" />
		</ui:define>
		<ui:define name="content">
			<div id="functions-area">
				<button id="D1_1" data-bind="click: register" class="proceed"
					tabindex="1">#{i18n.getText('CMF002_98')}</button>
				<button id="D1_2" data-bind="click: closeDialog" tabindex="2">#{i18n.getText('#CMF002_99')}</button>
			</div>
			<div id="contents-area">
				<div class="table title">
					<!-- D2 -->
					<div class="cell"
						data-bind="ntsFormLabel: {text: '#{i18n.getText('CMF002_78')}'}"></div>
					<!-- D2_1 -->
					<div class="cell" data-bind="text: cndSetCd + '　' + cndSetName"></div>
				</div>
				<div class="table title">
					<!-- D3 -->
					<div class="cell"
						data-bind="ntsFormLabel: {text: '#{i18n.getText('CMF002_79')}'}"></div>
					<!-- D3_1 -->
					<div class="cell" data-bind="text: categoryName"></div>
				</div>
				<div class="table content">
					<!-- D4 -->
					<div class="cell"
						data-bind="ntsFormLabel: {text: '#{i18n.getText('CMF002_100')}'}"></div>
					<div class="cell"></div>
					<!-- D6 -->
					<div class="cell"
						data-bind="ntsFormLabel: {text: '#{i18n.getText('CMF002_103')}'}"></div>
				</div>
				<div class="table content">
					<div class="cell">
						<div id="D5"
							data-bind="ntsPanel:{width: '500px', height: '412px', direction: 'none',showIcon: true}">
							<div class="pull-left search-item" style="margin-right: 20px;">
								<div style="width: 240px"
									data-bind="ntsSearchBox: {
									searchMode: 'filter',
									targetKey: 'tableName',
									comId: 'D5_2',
									items: tableItemList,
									selected: selectedSearchTable,
									selectedKey: 'displayTableName',
									fields: ['displayTableName'],
									mode: 'igGrid'}" />

								<!--F4_2 出力項目一覧-->
								<table id="D5_2"
									data-bind="ntsGridList: {
									rows: 15,
									name: '#[CMF002_349]',
									dataSource: tableItemList,
									primaryKey: 'tableName',
									columns: [
								    	{ headerText: '#{i18n.getText('CMF002_101')}', key: 'displayTableName', width: 220, formatter: _.escape},
								    	{ headerText: '', key: 'tableName', hidden: true  }
								    ],									
									multiple: false,
									value: selectedTable}"></table>
							</div>
							<div class="pull-left search-item">
								<div style="width: 240px"
									data-bind="ntsSearchBox: {
									searchMode: 'highlight', 
									targetKey: 'itemNo',
									comId: 'D5_4',
									items: itemList,
									selected: selectedSearchItem,
									selectedKey: 'itemName',
									fields: ['itemName'],
									mode: 'igGrid'}" />

								<!--F4_2 出力項目一覧-->
								<table id="D5_4"
									data-bind="ntsGridList: {
									rows: 15,
									name: '#[CMF002_349]',
									dataSource: itemList,
									primaryKey: 'itemNo',
									columns: [
								    	{ headerText: '#{i18n.getText('CMF002_102')}', key: 'itemName', width: 220, formatter: _.escape},
								    	{ headerText: '', key: 'itemNo', hidden: true  }
								    ],									
									multiple: false,
									value: selectedItem}"></table>
							</div>
						</div>
					</div>
					<div class="cell valign-center">
						<div class="arrow-item">
							<button data-bind="click: btnRightClick">
								<i class="icon icon-button-arrow-right"></i>
							</button>
							<button data-bind="click: btnLeftClick">
								<i class="icon icon-button-arrow-left"></i>
							</button>
						</div>
					</div>
					<div class="cell">
						<table id="fixed-table">
							<colgroup>
								<col width="70px" />
								<col width="138px" />
								<col width="400px" />
							</colgroup>
							<thead>
								<tr>
									<th class="ui-widget-header">#{i18n.getText('CMF002_104')}</th>
									<th class="ui-widget-header">#{i18n.getText('CMF002_105')}</th>
									<th class="ui-widget-header">#{i18n.getText('CMF002_106')}</th>
								</tr>
							</thead>
							<tbody data-bind="foreach: cndDetai().listOutCndDetailItem">
								<tr>
									<td><span
										data-bind="text: $vm.getItemName(categoryItemNo())"></span></td>
									<td>
										<div class="D6_C3_1"
											data-bind="ntsComboBox: {
											options: $vm.getComboboxSource(dataType),
											optionsValue: 'code',
											visibleItemsCount: 5,
											value: conditionSymbol,
											optionsText: 'name',
											columns: [             
												{ prop: 'name', length: 10 },
											]}">
										</div>
									</td>
									<td class="view-control">
										<!-- 文字型 --> <input
										data-bind="ntsTextEditor: {
										constraint: 'OutCndCharVal', 
										value: searchChar, 
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.CHARACTER &amp;&amp; conditionSymbol() != nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN}, 
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.CHARACTER &amp;&amp; conditionSymbol() != nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />

										<input
										data-bind="ntsTextEditor: {
										constraint: 'OutCndCharVal', 
										value: searchCharStartVal, 
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.CHARACTER &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN}, 
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.CHARACTER &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />

										<input
										data-bind="ntsTextEditor: {
										constraint: 'OutCndCharVal', 
										value: searchCharEndVal, 
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.CHARACTER &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN}, 
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.CHARACTER &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />

										<!-- 数値型 --> <input
										data-bind="ntsTextEditor: {
										constraint: 'OutCndNumVal', 
										value: searchNum, 
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.NUMERIC &amp;&amp; conditionSymbol() != nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN}, 
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.NUMERIC &amp;&amp; conditionSymbol() != nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />

										<input
										data-bind="ntsTextEditor: {
										constraint: 'OutCndNumVal', 
										value: searchNumStartVal, 
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.NUMERIC &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN}, 
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.NUMERIC &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />

										<input
										data-bind="ntsTextEditor: {
										constraint: 'OutCndNumVal', 
										value: searchNumEndVal, 
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.NUMERIC &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN}, 
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.NUMERIC &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />

										<!-- 日付型 -->
										<div
											data-bind="ntsDatePicker: {
										value: searchDate, 
										dateFormat: 'YYYY/MM/DD', 
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.DATE &amp;&amp; conditionSymbol() != nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN},
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.DATE &amp;&amp; conditionSymbol() != nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN"></div>

										<div
											data-bind="ntsDatePicker: {
										value: searchDateStart, 
										dateFormat: 'YYYY/MM/DD', 
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.DATE &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN},
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.DATE &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN"></div>

										<div
											data-bind="ntsDatePicker: {
										value: searchDateEnd, 
										dateFormat: 'YYYY/MM/DD', 
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.DATE &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN},
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.DATE &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN"></div>

										<!-- 時間型 --> <input
										data-bind="ntsTimeEditor: {
										constraint: 'AttendanceTime', 
										value: searchTime, 
										inputFormat: 'time',
										mode: 'time',
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.TIME &amp;&amp; conditionSymbol() != nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN},
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.TIME &amp;&amp; conditionSymbol() != nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />

										<input
										data-bind="ntsTimeEditor: {
										constraint: 'AttendanceTime', 
										value: searchTimeStartVal, 
										inputFormat: 'time',
										mode: 'time',
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.TIME &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN},
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.TIME &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />

										<input
										data-bind="ntsTimeEditor: {
										constraint: 'AttendanceTime', 
										value: searchTimeEndVal, 
										inputFormat: 'time',
										mode: 'time',
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.TIME &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN},
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.TIME &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />

										<!-- 時刻型 --> <input
										data-bind="ntsTimeEditor: {
										constraint: 'AttendanceClock', 
										value: searchClock, 
										inputFormat: 'time',
										mode: 'time',
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.INS_TIME &amp;&amp; conditionSymbol() != nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN},
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.INS_TIME &amp;&amp; conditionSymbol() != nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />

										<input
										data-bind="ntsTimeEditor: {
										constraint: 'AttendanceClock', 
										value: searchClockStartVal, 
										inputFormat: 'time',
										mode: 'time',
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.INS_TIME &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN},
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.INS_TIME &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />

										<input
										data-bind="ntsTimeEditor: {
										constraint: 'AttendanceClock', 
										value: searchClockEndVal, 
										inputFormat: 'time',
										mode: 'time',
										required: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.INS_TIME &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN},
										visible: dataType == nts.uk.com.view.cmf002.share.model.ITEM_TYPE.INS_TIME &amp;&amp; conditionSymbol() == nts.uk.com.view.cmf002.share.model.CONDITION_SYMBOL.BETWEEN" />
									</td>
									<!-- 
									<td><com:ko-if bind="selectedDataType == 1">
											<div data-bind="with: texteditor" id="#D6_C4_1">
												<input
													data-bind="ntsTextEditor: {
													value: value,
													constraint: constraint,
													option: option,
													required: required,
													enable: enable,
													readonly: readonly,}" />

											</div>
										</com:ko-if> <com:ko-if bind="selectedDataType == 2">
											<com:ko-if bind="isDateTime == false">
												<div>
													<div data-bind="with: texteditor" align="left"
														style="float: left" id="#D6_C4_2">
														<input
															data-bind="ntsTextEditor: {
															value: value,
															constraint: constraint,
															option: option,
															required: required,
															enable: enable,
															readonly: readonly}" />
													</div>
													<div align="center" style="float: left; width: 17%">~</div>

													<div data-bind="with: texteditor" align="right"
														style="float: left" id="#D6_C4_3">
														<input
															data-bind="ntsTextEditor: {
															value: value,
															constraint: constraint,
															option: option,
															required: required,
															enable: enable,
															readonly: readonly}" />
													</div>
												</div>
											</com:ko-if>

											<com:ko-if bind="isDateTime == true">
												<div>
													<div id="#D6_C4_8" align="right" style="float: left"
														data-bind="ntsDatePicker: {value: date, dateFormat: 'YYYY/MM/DD'}"></div>

													<div align="center" style="float: left; width: 17%">~</div>

													<div id="#D6_C4_9" align="right" style="float: left"
														data-bind="ntsDatePicker: {value: date, dateFormat: 'YYYY/MM/DD'}"></div>
												</div>
											</com:ko-if>
										</com:ko-if></td> -->
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>