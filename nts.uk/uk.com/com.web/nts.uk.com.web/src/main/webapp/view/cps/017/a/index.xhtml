<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/base.xhtml">
		<ui:define name="htmlHead">
			<title>#{i18n.getText('CPS008_1')}</title>
			<com:ValidatorScript>
					nts.uk.ctx.bs.person.dom.person.setting.selectionitem.SelectionItemName
					nts.uk.ctx.bs.person.dom.person.setting.selectionitem.SelectionCodeLength
					nts.uk.ctx.bs.person.dom.person.setting.selectionitem.IntegrationCode
					nts.uk.ctx.bs.person.dom.person.setting.selectionitem.SelectionNameLength
					nts.uk.ctx.bs.person.dom.person.setting.selectionitem.SelectionExternalCDLength
					nts.uk.ctx.bs.person.dom.person.setting.selectionitem.Memo
					nts.uk.ctx.bs.person.dom.person.setting.selectionitem.selection.SelectionCD 
					nts.uk.ctx.bs.person.dom.person.setting.selectionitem.selection.SelectionName
					nts.uk.ctx.bs.person.dom.person.setting.selectionitem.selection.MemoSelection
					nts.uk.ctx.bs.person.dom.person.setting.selectionitem.selection.ExternalCD
			</com:ValidatorScript>
			<com:scriptfile set="IGNITE" />
			<com:scriptfile path="../../007/a/layout-control-ko-ext.js" />
			<com:stylefile path="cps017.a.style.css" />
			<com:scriptfile path="cps017.a.service.js" />
			<com:scriptfile path="cps017.a.start.js" />
			<com:scriptfile path="cps017.a.vm.js" />
		</ui:define>

		<ui:define name="content">
			<div id="functions-area">

				<button id="A1_001" tabindex="1" data-bind="click : registerData">#{i18n.getText('CPS017_1')}</button>
				<button id="A1_002" class="proceed" tabindex="2"
					data-bind="click : addData, enable: $root.errors.isEmpty">#{i18n.getText('CPS017_2')}</button>
				<button id="A1_005" class="danger" tabindex="3"
					data-bind="click : remove, enable: checkCreate()==false &amp;&amp; $root.errors.isEmpty">#{i18n.getText('CPS017_4')}</button>

				<button id="A1_008" tabindex="4">#{i18n.getText('CPS017_50')}</button>

				<button id="A1_003" data-bind="click: openDialogB" tabindex="5">#{i18n.getText('CPS017_3')}</button>

				<button id="A1_007" tabindex="6">#{i18n.getText('CPS017_49')}</button>

			</div>
			<div id="contents-area" class="cf">
				<div id="content-left" class="pull-left"
					data-bind="ntsPanel:{width: '270px', height: '540px',
					direction: 'right', showIcon: true, visible: true}">

					<div id="search" tabindex="1"
						data-bind="ntsSearchBox: {
						searchMode: 'filter',
						targetKey: 'selectionItemName',
						mode: 'igGrid', 
						comId: 'single-list',
						items: listItems ,  
						selected: perInfoSelectionItem().selectionItemId,
						selectedKey: 'selectionItemId',
						fields: ['selectionItemId', 'selectionItemName']}" />


					<table id="sel_item_grid"
						data-bind="ntsGridList: {
									height: 270,
									options: listItems,
									primaryKey: 'selectionItemId',
									showNumbering:true,
									columns: [
						                { headerText: '', key: 'selectionItemId', width: 20 ,hidden:true},
						                { headerText: '#{i18n.getText('CPS016_7')}', key: 'selectionItemName', width: 195 }
						            ],
									multiple: false,
									value: perInfoSelectionItem().selectionItemId}">
					</table>

					<span id="caret" class="caret-bottom outline"></span>

					<!-- khu vực thêm lịch sử, sửa lịch sử  -->
					<div id="history">
						<button id="A2_8" data-bind="click: openDialogC" tabindex="9">#{i18n.getText('CPS017_8')}</button>
						<button id="A2_9" data-bind="click: openDialogD" tabindex="10">#{i18n.getText('CPS017_9')}</button>
						<button id="A2_10" tabindex="11" class="danger"
							data-bind="click : removeHistory, enable: checkCreate()==false &amp;&amp; $root.errors.isEmpty">#{i18n.getText('CPS017_10')}</button>

					</div>


					<!-- khu vực history list -->
					<div id="history_lst"
						data-bind="ntsListBox: {
						height: 267,
						options: listHistorySelection,
						optionsValue: 'histId',
						optionsText: 'histId',
						value: historySelection().histId,
						enable: true,
						multiple: false,
						rows: 9,
						columns: [
							{ key: 'startDate', length: 7 },
							{ key: 'endDate', length: 7, width: 200}
						]}">
					</div>

				</div>


				<!-- phần giữa của màn hình -->
				<div id="content-center" class="pull-left">
					<div data-bind="with: perInfoSelectionItem">
						<div data-bind="ntsFormLabel: {required: true}"
							class='distane col1'>
							<label>#{i18n.getText('CPS017_13')}</label>
						</div>
						<span class="col1" data-bind="text: selectionItemName"></span>
					</div>


					<div id="register">
						<span> #{i18n.getText('CPS017_14')}</span>
					</div>


					<!-- S -->
					<div id="itemRegisterLst" class="caret-right caret-background">
						<div>
							<table id="item_register_grid"
								data-bind="ntsGridList: {
									height: 270,
									options: listSelection,
									primaryKey: 'selectionID',
									showNumbering:true,
									columns: [
						                { headerText: '', key: 'selectionID', width: 20 ,hidden:true},
						                { headerText: '#{i18n.getText('CPS017_18')}', key: 'initSelection', width: 100, formatter :makeIcon },
						                { headerText: '#{i18n.getText('CPS017_16')}', key: 'selectionCD', width: 120 },
						                { headerText: '#{i18n.getText('CPS017_17')}', key: 'selectionName', width: 140}
						            ],
									multiple: false,
									value: selection().selectionID}">
							</table>
						</div>
					</div>

				</div>

				<!-- phần bên phải của màn hình  -->
				<div id="content-right" data-bind="with: selection">
					<div class="formlabel">
						<div style="float: left;"
							data-bind="ntsFormLabel: {constraint: ['SelectionCD','SelectionName'], required: true}"
							class='distane col1'>
							<label>#{i18n.getText('CPS017_20')}</label>
						</div>
					</div>

					<div class="distance">
						<input id="code" style="width: 100px"
							data-bind="ntsTextEditor: { 
								value: selectionCD,
								constraint: 'listSelection', 
								required: true, 
								enable: $parent.selection().selectionID() == undefined , 
 								immediate: false}" />

						<input id="name"
							data-bind="ntsTextEditor: { 
								value: selectionName, 
								constraint: 'listSelection', 
								required: true, 
 								enable: true, 
								immediate: false}" />
					</div>

					<div class="formlabel">
						<div class="coll" style="margin-right: 26px;"
							data-bind="ntsFormLabel: {constraint: 'ExternalCD', required: false }">#{i18n.getText('CPS017_23')}</div>
						<input style="width: 150px;"
							data-bind="ntsTextEditor: {
									value: externalCD,
									constraint: 'listSelection',
									option: '',
									required: false,
									enable: true,
									readonly: false}" />
					</div>

					<div class="distance">
						<div class="coll" style="margin-right: 45px;"
							data-bind="ntsFormLabel: {constraint: 'MemoSelection', required: false }">
							<label>#{i18n.getText('CPS016_21')}</label>
						</div>
						<textarea style="width: 310px; height: 80px; vertical-align: top;"
							data-bind="ntsMultilineEditor: { value: memoSelection , constraint: 'MemoSelection',required: false}" />
					</div>

				</div>


			</div>
		</ui:define>
	</ui:composition>
</body>
</html>