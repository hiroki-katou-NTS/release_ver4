<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/base.xhtml">
		<ui:define name="htmlHead">
			<com:scriptfile set="IGNITE" />
<!-- 			<com:stylefile path="cas014.a.style.css" /> -->
			<com:scriptfile path="cmf001.b.service.js" />
			<com:scriptfile path="../share/model.js" />
			<com:scriptfile path="cmf001.b.vm.js" />
			
			<com:scriptfile path="cmf001.b.start.js" />
		</ui:define>
		
		<ui:define name="content">
			<div id="functions-area">
				<a class="goback" data-bind="ntsLinkButton: { jump: '../a/index.xhtml' }">#{i18n.getText('CMF001_37')}</a>
				<button tabindex="1" data-bind="click: createNewCondition, enable: screenMode() == nts.uk.com.view.cmf001.share.model.SCREEN_MODE.UPDATE">#{i18n.getText('CMF001_29')}</button>
				<button tabindex="2" data-bind="click: registerCondition" class="proceed" >#{i18n.getText('CMF001_30')}</button>
<!-- 					<button tabindex="3" >#{i18n.getText('CMF001_31')}</button> -->
				<button tabindex="4" data-bind="click: openCMF001m, enable: screenMode() == nts.uk.com.view.cmf001.share.model.SCREEN_MODE.UPDATE">#{i18n.getText('CMF001_33')}</button>
				<button tabindex="5" data-bind="click: deleteCondition, enable: screenMode() == nts.uk.com.view.cmf001.share.model.SCREEN_MODE.UPDATE" class="danger" >#{i18n.getText('CMF001_34')}</button>
			</div>
			<div id="contents-area" class="fixed-flex-layout">
				<div class="fixed-flex-layout-left">
					<div data-bind="ntsPanel:{width: '350px', height: '460px', showIcon: true, visible: true}">
						<div data-bind="ntsFormLabel: { }">#{i18n.getText('CMF001_38')}</div>
						<div tabindex="7" style="width: 350px" data-bind="ntsSearchBox: {searchMode: 'filter', targetKey: 'dispConditionSettingCode', comId: 'B3_4', 
							items: listStandardImportSetting, selected: selectedStandardImportSettingCode, selectedKey: 'dispConditionSettingCode', fields: ['dispConditionSettingCode', 'dispConditionSettingName'], mode: 'igGrid'}" />		
						<table id="B3_4" data-bind="ntsGridList: {
								rows: 15,
								name: '#[CMF001_39]', 
									dataSource: listStandardImportSetting,
								primaryKey: 'dispConditionSettingCode', 
									columns: [
					                { headerText: '#{i18n.getText('CMF001_41')}', key: 'dispConditionSettingCode', width: 100, formatter: _.escape },
					                { headerText: '#{i18n.getText('CMF001_42')}', key: 'dispConditionSettingName', width: 180, formatter: _.escape }
					            ], 
								multiple: false,
								value: selectedStandardImportSettingCode
							}"></table>
					</div>
				</div>
				<div class="fixed-flex-layout-right">
					<div class="valign-center control-group">
						<span class="label">#{i18n.getText('CMF001_35')}</span> 
						<div tabindex="6" data-bind="ntsComboBox: {
							options: systemTypes,
							optionsValue: 'code',
							visibleItemsCount: 5,
							name: '#[CMF001_36]',
							value: systemType,
							optionsText: 'name',
							editable: false,
							enable: true,
							columns: [
								{ prop: 'name', length: 8 }
							]}"></div>
					</div>
					<div data-bind="with: selectedStandardImportSetting">
						<div class="label warning">#{i18n.getText('CMF001_50')}</div>
						<div class="valign-center control-group">
							<div data-bind="ntsFormLabel: { required: true }">#{i18n.getText('CMF001_51')}</div>
							<input tabindex="9" id="B4_3" data-bind="ntsTextEditor: {name: '#[CMF001_52]', value: conditionSettingCode, required: true, option: {width: '80px'}, enable: $parent.screenMode() == nts.uk.com.view.cmf001.share.model.SCREEN_MODE.NEW}" />
							<input tabindex="10" id="B4_4" data-bind="ntsTextEditor: {name: '#[CMF001_53]', value: conditionSettingName, required: true}" />
						</div>
						<div class="valign-center control-group">
							<div data-bind="ntsFormLabel: { }">#{i18n.getText('CMF001_54')}</div>
							<div style="display: inline-block">
								<div tabindex="11" data-bind="ntsRadioButton: { checked: deleteExistData, option: $parent.radioItemList()[0], name: '#[CMF001_55]', optionValue: 'code', optionText: 'name', group: 'DeleteDetermination'}"></div>
								<div tabindex="11" style="display: block" data-bind="ntsRadioButton: { checked: deleteExistData, option: $parent.radioItemList()[1], name: '#[CMF001_55]', optionValue: 'code', optionText: 'name', group: 'DeleteDetermination'}"></div>
							</div>
							<div tabindex="12" data-bind="ntsComboBox: {
								options: [{code: 1, name: '受入る会社のデータを全て削除してから受入'}, {code: 2, name: '対象データのみ削除してから受入'}],
								optionsValue: 'code',
								name: '#[CMF001_58]',
								value: deleteExistDataMethod,
								optionsText: 'name',
								editable: false,
								enable: true,
								columns: [
									{ prop: 'name', length: 20 }
								]}"></div>
						</div>
						<div class="valign-center control-group">
							<div data-bind="ntsFormLabel: { }">#{i18n.getText('CMF001_59')}</div>
							<div tabindex="13" class="cf" data-bind="ntsSwitchButton: {
								options: $parent.acceptModes,
								name: '#[CMF001_65]',
								optionsValue: 'code',
								optionsText: 'name',
								value: acceptMode,
								enable: deleteExistData()==0 }"></div>
						</div>
						<div class="valign-center control-group">
							<div data-bind="ntsFormLabel: { required: true }">#{i18n.getText('CMF001_69')}</div>
							<button tabindex="14" data-bind="click: function() {$parent.openCMF001d()}">#{i18n.getText('CMF001_70')}</button>
							<span class="label">#{i18n.getText('CMF001_71')}</span>
							<span class="label" data-bind="visible: alreadySetting()">#{i18n.getText('CMF001_77')}</span>
							<span class="label" data-bind="visible: !alreadySetting()">#{i18n.getText('CMF001_78')}</span>
						</div>
					</div>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>
