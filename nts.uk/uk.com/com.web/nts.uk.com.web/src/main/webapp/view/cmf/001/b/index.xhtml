<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
>
	<body>
		<ui:composition template="../../../../master/base.xhtml">
			<ui:define name="htmlHead">
				<com:scriptfile set="IGNITE" />
				<com:stylefile path="cmf001.b.css" />
				<com:scriptfile path="cmf001.b.vm.js" />
				<com:ValidatorScript>
					nts.uk.ctx.exio.dom.input.setting.ExternalImportCode
					nts.uk.ctx.exio.dom.input.setting.ExternalImportName
				</com:ValidatorScript>
			</ui:define>

			<ui:define name="content">
				<div id="functions-area">
					<a
						class="goback"
						tabindex="1"
						data-bind="ntsLinkButton: { jump: '/view/ksm/011/a/index.xhtml' }, text: $vm.$i18n('KSM011_17')"
					></a>
					<button  
						class="normal"
						tabindex="2"
						data-bind="click: newMode, text: '新規'"
					></button>
					<button
						class="proceed"
						tabindex="3"
						data-bind="click: save, text: '登録'"
					></button>
					<button
						class="danger"
						tabindex="4"
						data-bind="click: remove, text: '削除'"
					></button>
					<button
						id="export-button"
						class="normal"
						tabindex="5"
						data-bind="text: 'レイアウトを出力する'"
					></button>
				</div>

				<div id="contents-area" class="fixed-flex-layout">
					<div class="fixed-flex-layout-left" style="padding-top: 20px; padding-left: 20px">
						<div class="settings">
							<table id="setting-list" data-bind="ntsGridList: {
								height: '400px',
								dataSource: settingList,
								primaryKey: 'code',
								columns: settingListColumns,
								value: selectedCode}">
							</table>
						</div>
					</div>
					
					<div class="fixed-flex-layout-right" style="padding-top: 20px;">
						<div class="group">
							<div class="code">
								<div class="formLabel" data-bind="ntsFormLabel: { required: true , constraint: ['ExternalImportCode'] }">コード</div>
								<input id="settingCode" data-bind="ntsTextEditor: { 
									value: settingCode,  
									required: true}" />
							</div>
							<div class="name">
								<div class="formLabel" data-bind="ntsFormLabel: { required: true , constraint: ['ExternalImportName'] }">名称</div>
								<input id="settingName" data-bind="ntsTextEditor: { 
									value: settingName,  
									required: true}" />
							</div>
							<div class="import-group">
								<div class="formLabel" data-bind="ntsFormLabel: { required: true }">受入グループ</div>
								<div id="importGroup" data-bind="ntsComboBox: {
									options: $root.content.importGroupOption,
									optionsValue: 'code',
									optionsText: 'name',
									selectFirstIfNull: false,
									value: importGroup}"></div>
							</div>
							<div class="import-mode">
								<div class="formLabel" data-bind="ntsFormLabel: { required: true }">受入モード</div>
								<div id="importMode" data-bind="ntsComboBox: {
									options: $root.content.importModeOption,
									optionsValue: 'code',
									optionsText: 'name',
									selectFirstIfNull: false,
									value: importMode}"></div>
							</div>
						</div>

						<div class="group">
							<div class="divi">CSVファイルの情報</div><hr />
							<div class="item-name-row">
								<div data-bind="ntsFormLabel: { required: true }">項目名の行</div>
								<input id="itemNameRow" data-bind="ntsTextEditor: { value: itemNameRow}" />
							</div>
							<div class="import-start-row">
								<div data-bind="ntsFormLabel: { required: true }">受入開始行</div>
								<input id="importStartRow" data-bind="ntsTextEditor: { value: importStartRow}" />
							</div>
						</div>
						
						<div class="group">
							<div class="divi">受入レイアウト</div><hr />
							<button class="normal" data-bind="text: '項目を追加する'" ></button>
							<button class="normal" data-bind="text: '受入項目の詳細設定', click: gotoDetailSetting" ></button>
							<table id="layout-list" data-bind="ntsGridList: {
								height: '300px',
								dataSource: layoutList,
								primaryKey: 'itemNo',
								columns: layoutListColumns,
								value: selectedItem}">
							</table>
						</div>
					</div>
				</div>
			</ui:define>
		</ui:composition>
	</body>
</html>
