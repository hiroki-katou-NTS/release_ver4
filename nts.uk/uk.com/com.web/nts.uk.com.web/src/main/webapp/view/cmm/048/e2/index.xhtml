<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:com="http://xmlns.jcp.org/jsf/component" xmlns:h="http://xmlns.jcp.org/jsf/html">

<body>
  <ui:composition template="/master/dialog.xhtml">
    <ui:define name="htmlHead">
      <script> var dialogSize = { width: 400, height: 380 }; </script>
      <com:scriptfile set="IGNITE" />
      <com:scriptfile path="webcamjs/webcam.min.js" />
      <com:scriptfile path="cmm048.e2.vm.js" />
      <com:stylefile path="cmm048.e2.style.css" />
    </ui:define>
    <ui:define name="content">
      <div id="content-area">
        <div id="description">
          <span data-bind="ifnot: snapYet">
            確認したら、<img src="resource/camera.png" style="height: 15px; width: auto;" /> ボタンをクリックしてください
          </span>
          <span data-bind="if: snapYet">
            <span>
              もう一度撮りに「再撮影」 ボタンをクリックでき、 または終了に「完了」
            </span>
            <br />
            <span>
              ボタンをクリックしてください。
            </span>
          </span>
        </div>
        <div id="avatar-zone"></div>
        <script language="JavaScript">
          Webcam.set({
            width: 320,
            height: 240,
            image_format: 'jpeg',
            jpeg_quality: 90
          });
          Webcam.attach('#avatar-zone');
        </script>
      </div>
      <div id="functions-area-bottom">
        <div data-bind="ifnot: snapYet">
          <div id="E2_5" data-bind="click: snap">
            <img id="img-btn-snap" src="resource/camera.png" />
          </div>
          <button id="E2_6" class="normal" tabindex="6" data-bind="click: closeDialog">
            #{i18n.getText('CMM048_103')}
          </button>
        </div>
        <div data-bind="if: snapYet">
          <button id="E2_8" class="normal" tabindex="7" data-bind="click: snapAgain">
            再撮影
          </button>
          <button id="E2_9" class="normal proceed" tabindex="7" data-bind="click: takeThis">
            完了
          </button>
        </div>
      </div>
    </ui:define>
  </ui:composition>
</body>

</html>