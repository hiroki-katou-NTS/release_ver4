<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:com="http://xmlns.jcp.org/jsf/component"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
<ui:composition template="../../../../master/base.xhtml">
    <ui:define name="htmlHead">

        <com:scriptfile set="IGNITE"/>
        <com:stylefile path="cmm051.a.main.css"/>
        <com:scriptfile path="cmm051.a.vm.js"/>
        <com:scriptfile path="/view/kcp/share/list.js" of="/nts.uk.com.web"/>
        <com:ValidatorScript>
            nts.uk.ctx.sys.auth.dom.wkpmanager.EmployeeCode
        </com:ValidatorScript>
    </ui:define>
    <ui:define name="content">
        <div id="functions-area">
            <button class="add" data-bind="click: createWkpManager, enable: $root.errors.isEmpty()" tabindex="1">#{i18n.getText('CMM051_1')}</button>
            <button class="proceed" data-bind="click: saveWkpManager, enable: $root.errors.isEmpty() "
                    tabindex="2">#{i18n.getText('CMM051_2')}</button>
            <button class="danger" data-bind="click: remove, enable: isDelete() &amp;&amp; $root.errors.isEmpty"
                    tabindex="3">#{i18n.getText('CMM051_3')}</button>
        </div>
        <div id="contents-area">
            <div class="container cmm-051" style="width:1270px;">
                <div tabindex="4" class="panel-row">
                    <div class="row-left">
                        <!-- A2_2 -->
                        <div class="label"
                             data-bind="ntsFormLabel: {}, text: $i18n('CMM051_38')">
                        </div>
                    </div>
                    <div class="row-right row-switch-button">
                        <div tabindex="10" data-bind="ntsSwitchButton: {
                    name: $i18n('CMM051_38'),
                    options: [
                      { id: 1, name: $i18n('CMM051_39')},
                      { id: 0, name: $i18n('CMM051_40')}
                    ],
                    optionsValue: 'id',
                    value: mode,
                    optionsText: 'name'}">
                        </div>
                    </div>
                </div>
                <div data-bind="if: mode() == 1" >
                    <div class="valign-center control-group a_3">
                        <div data-bind="ntsFormLabel:{} ">#{i18n.getText('CMM051_46')}</div>
                        <button tabindex="5" class="" data-bind="click: openDialogA3282 ">#{i18n.getText('CMM051_47')}</button>
                        <label class="ntsControl limited-label wp-code" data-bind="text: workplaceCode()  "> </label>
                        <label class="ntsControl limited-label wp-name" data-bind="text: workplaceName()"> </label>
                    </div>
                </div>
                <div data-bind="if: mode() == 0">
                    <div  class="valign-center control-group a_3">
                        <div data-bind="ntsFormLabel:{} ">#{i18n.getText('CMM051_41')}</div>
                        <button tabindex="5" class="" data-bind="click: openDialogA3282 ">#{i18n.getText('CMM051_42')}</button>
                        <label class="ntsControl limited-label wp-code " data-bind="text: employeeCode()  "> </label>
                        <label class="ntsControl limited-label wp-name " data-bind="text: employeeName()"> </label>
                    </div>
                </div>
                <div id="left-content">
                    <div data-bind="if: mode() == 1" class="kcp005">
                        <div id="kcp005" tabindex="6">
                        </div>
                    </div>
                    <div data-bind="if: mode() == 0" class="wkp_list">
                        <table id="wkp_list"
                               data-bind="ntsGridList: {
	                                            name:'#[CMM051_49]',
	                                            width: 450,
	                                            rows: 10,
	                                            options: workPlaceList,
	                                            optionsValue: 'workPlaceId',
	                                            primaryKey: 'id',
	                                            columns: columns,
	                                            multiple: false,
	                                            value: wplaceSelectedId,
	                                            showNumbering:false,
	                                            selectFirstIfNull: false,
	                                            enable: true}">
                        </table>
                    </div>
                </div>
                <div id="right-content">
                    <!--A10-1-->
                    <div data-bind="if: mode() == 1">
                        <div  class="a_6">
                            <div data-bind="ntsFormLabel:{} ">#{i18n.getText('CMM051_41')}</div>
                            <button tabindex="7" class=" a_62"
                                    data-bind="click: openDialogA62102, enable: isNewMode() ">#{i18n.getText('CMM051_47')}</button>
                            <label class="ntsControl limited-label wp-code" data-bind="text: employeeCode()  "> </label>
                            <label class="ntsControl limited-label wp-name" data-bind="text: employeeName() "> </label>
                        </div>
                    </div>
                    <div data-bind="if: mode() == 0">
                        <!--A6-->
                        <div  class="a_10">
                            <div data-bind="ntsFormLabel:{} ">#{i18n.getText('CMM051_46')}</div>
                            <button tabindex="7" class=" a_62"
                                    data-bind="click: openDialogA62102, enable: isNewMode()">#{i18n.getText('CMM051_42')}</button>
                            <label class="ntsControl limited-label wp-code code" data-bind="text:   workplaceCode()"> </label>
                            <label class="ntsControl limited-label wp-name name" data-bind="text:  workplaceName()"> </label>
                        </div>
                    </div>

                    <!--A7_1-->
                    <div class="date-list">
                        <table class="table_content">
                            <colgroup>
                                <col width="85px"/>
                                <col width="270px"/>
                                <col width="*"/>
                            </colgroup>
                            <tr>
                                <td style="vertical-align: top;">
                                    <div data-bind="ntsFormLabel: {}">#{i18n.getText('CMM051_48')}</div>
                                </td>
                                <td tabindex="8">
                                    <div id="list-box" tabindex="7"
                                         data-bind="ntsListBox: {
									name: '#[CMM051_49]',
									options: dateHistoryList,
									optionsValue: 'id',
									optionsText: 'display',
									multiple: false,
									value: historyId,
									rows: 4,
									columns: [
										{ key: 'display', length: 15 }
									]}">
                                    </div>
                                </td>
                                <td style="vertical-align: top;">
                                    <div>
                                        <button tabindex="9"
                                                data-bind="click: openAddHistoryDialog, enable : isNewModeHist"
                                                class="history-button">#{i18n.getText('CMM051_50')}</button>
                                    </div>
                                    <div>
                                        <button tabindex="10"
                                                data-bind="click: openUpdateHistoryDialog, enable : isUpdateModeHist()  &amp;&amp; !dateHistoryList.isEmpty"
                                                class="history-button">#{i18n.getText('CMM051_51')}</button>
                                    </div>
                                    <div>
                                        <button tabindex="11"
                                                data-bind="click: removeHistory,enable : isDeleteModeHist() &amp;&amp; !dateHistoryList.isEmpty"
                                                class="history-button danger">#{i18n.getText('CMM051_52')}</button>
                                    </div>
                                </td>
                            </tr>


                        </table>
                    </div>


                </div>
            </div>
        </div>
    </ui:define>
</ui:composition>
</body>
</html>