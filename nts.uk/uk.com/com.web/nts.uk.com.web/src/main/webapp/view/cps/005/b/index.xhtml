<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">

<body>
	<ui:composition template="../../../../master/dialog.xhtml">
		<ui:define name="htmlHead">
			<com:ValidatorScript>
				nts.uk.ctx.bs.person.dom.person.info.item.ItemName
				nts.uk.ctx.bs.person.dom.person.info.stringitem.StringItemLength
				nts.uk.ctx.bs.person.dom.person.info.numericitem.DecimalPart
				nts.uk.ctx.bs.person.dom.person.info.numericitem.IntegerPart
				nts.uk.ctx.bs.person.dom.person.info.numericitem.NumericItemMin
				nts.uk.ctx.bs.person.dom.person.info.numericitem.NumericItemMax
				nts.uk.ctx.bs.person.dom.person.info.timeitem.TimeItemMin
				nts.uk.ctx.bs.person.dom.person.info.timeitem.TimeItemMax
				nts.uk.shr.com.primitive.TimeWithDayAttr
			</com:ValidatorScript>
           	<script>var dialogSize = { width: 1150, height: 580 };</script>
			<com:scriptfile set="IGNITE" />
			<com:stylefile path="cps005.b.main.css" />
			<com:scriptfile path="cps005.b.start.js" />
			<com:scriptfile path="cps005.b.vm.js" />
			<com:scriptfile path="cps005.b.service.js" />
		</ui:define>

		<ui:define name="content">

			<div id="functions-area">
				<div id="functions-area-content">
					<button tabindex="1" data-bind="click : register">#{i18n.getText('CPS005_10')}</button>
					<button tabindex="2" class="proceed"
						data-bind="click : addUpdateData, enable: isEnableButtonProceed()">#{i18n.getText('CPS005_11')}</button>
					<button tabindex="3" class="danger" data-bind="click: removeData, enable: currentItemData().isEnableButtonDelete()">#{i18n.getText('CPS005_58')}</button>
					<button tabindex="4" data-bind="click: closedDialog">#{i18n.getText('CPS005_14')}</button>
				</div>
			</div>

			<div id="contents-area" data-bind="with: currentItemData">
				<div id="contents-area-right">
					<div
						data-bind="ntsPanel:{width: '300px', height: '430px', direction: 'right', showIcon: false, visible: true}">
						<div tabindex="5" style="width: 300px"
							data-bind="ntsSearchBox: {searchMode: 'filter',targetKey: 'id', comId: 'item-info-list', 
									items: personInfoItemList, selected: perInfoItemSelectCode, selectedKey: 'id', fields: ['itemName'], mode: 'igGrid'}" />
						<table id="item-info-list"
							data-bind="ntsGridList: {								
								height: 370,
								name: '#[CPS005_28]',
								dataSource: personInfoItemList,
								primaryKey: 'id',
								columns: [
									 { headerText: '', key: 'id', hidden: true },
                					 { headerText: '#{i18n.getText('CPS005_13')}', key: 'itemName', width: 283 }, 
								],
								multiple: false,
								value: perInfoItemSelectCode
							}">
						</table>
					</div>
				</div>
				<div id="contents-area-left">
					<div data-bind="with: currentItemSelected">
						<!-- Start perInfoItem selection is not fixed -->
						<div data-bind="visible: fixedAtr() == 0 ">
							<div
								class="valign-center control-group control-group-margin-custom">
								<div
									data-bind="ntsFormLabel: { constraint: ['ItemName'], required: true }"
									class="margin-right-FormLabel">
									<span data-bind="text: '#{i18n.getText('CPS005_13')}' "></span>
								</div>
								<input tabindex="6" id="item-name-control"
									data-bind="ntsTextEditor: {
										name: '#[CPS005_13]',
										value: itemName,
										constraint: 'ItemName',
										option: {
							            	textmode: 'text',
							            	placeholder: '',
							            	width: '250px',
							            	textalign: 'left'
							            },
										required: true,
										enable: true,
										readonly: false,
										immediate: false}" />
							</div>
							
							<div data-bind="visible: itemType() == 2">
								  <div
									class="valign-center control-group control-group-margin-custom">
									<div data-bind="ntsFormLabel: { required: true }"
										class="margin-right-FormLabel">
										<span data-bind="text: '#{i18n.getText('CPS005_15')}' "></span>
									</div>
									<div tabindex="7" id="combo-box"
										data-bind="ntsComboBox: {
										name: '#[CPS005_15]',
										options: $parent.dataTypeEnum,
										optionsValue: 'value',
										visibleItemsCount: 6,
										value: dataType,
										optionsText: 'localizedName',
										editable: false,
										enable: true,
										columns: [
											{ prop: 'localizedName', length: 10 },
										]}">
									</div>
								</div>
	
								<!-- Start dataTypeEnum is selected value 1 - 文字列(String) -->
								<div id="data-type-value-string"
									data-bind="with: stringItem, visible: dataType() == 1">
									<div
										class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: { required: true }"
											class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_16')}' "></span>
										</div>
										<div tabindex="8" id="combo-box"
											data-bind="ntsComboBox: {
											name: '#[CPS005_16]',
											options: $parents[1].stringItemTypeEnum,
											optionsValue: 'value',
											visibleItemsCount: 5,
											value: stringItemType,
											optionsText: 'localizedName',
											editable: false,
											enable: true,
											columns: [
												{ prop: 'localizedName', length: 10 },
											]}">
										</div>
									</div>
	
									<div
										class="valign-center control-group control-group-margin-custom">
										<div
											data-bind="ntsFormLabel: { constraint: ['StringItemLength'], required: true }"
											class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_17')}' "></span>
										</div>
										<input tabindex="9"
											data-bind="ntsTextEditor: {
												name: '#[CPS005_17]',
												value: stringItemLength,
												constraint: 'StringItemLength',
												option: {
									            	textmode: 'text',
									            	placeholder: '',
									            	width: '175px',
									            	textalign: 'left'
									            },
												required: true,
												enable: true,
												readonly: false,
												immediate: false}" />
									</div>
									<div
										class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: { required: false }"
											class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_8')}' "></span>
										</div>
										<div tabindex="10"
											data-bind="ntsSwitchButton: {
											name: '#[CPS005_8]',
											options: $parents[1].stringItemDataTypeEnum,
											optionsValue: 'value',
											optionsText: 'localizedName',
											value: stringItemDataType,
											enable: true }">
										</div>
										<button tabindex="11"
											data-bind="ntsHelpButton: {image: '../image/data-type.png', position: 'right top', enable: true }">?</button>
									</div>
								</div>
								<!-- End dataTypeEnum is selected value 1 - 文字列(String) -->
	
								<!-- Start dataType is selected value 2 - 数値(Numeric) -->
								<div id="data-type-value-numeric"
									data-bind="with: numericItem, visible: dataType() == 2">
									<div
										class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: { required: true }"
											class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_18')}' "></span>
										</div>
										<div tabindex="12"
											data-bind="ntsSwitchButton: {
											name: '#[CPS005_18]',
											options: $parents[1].numericItemAmountAtrEnum,
											optionsValue: 'code',
											optionsText: 'name',
											value: numericItemAmount,
											enable: true }">
										</div>
									</div>
									<div
										class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: { required: true }"
											class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_19')}' "></span>
										</div>
										<div tabindex="13"
											data-bind="ntsSwitchButton: {
											name: '#[CPS005_19]',
											options: $parents[1].numericItemMinusAtrEnum,
											optionsValue: 'code',
											optionsText: 'name',
											value: numericItemMinus,
											enable: true }">
										</div>
									</div>
									<div
										class="valign-center control-group control-group-margin-custom">
										<div
											data-bind="ntsFormLabel: { constraint: ['IntegerPart'], required: true }"
											class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_20')}' "></span>
										</div>
										<input tabindex="14"
											data-bind="ntsTextEditor: {
												name: '#[CPS005_20]',
												value: integerPart,
												constraint: 'IntegerPart',
												option: {
									            	textmode: 'text',
									            	placeholder: '',
									            	width: '175px',
									            	textalign: 'left'
									            },
												required: true,
												enable: true,
												readonly: false,
												immediate: false}" />
									</div>
									<div
										class="valign-center control-group control-group-margin-custom">
										<div
											data-bind="ntsFormLabel: { constraint: ['DecimalPart'], required: true }"
											class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_21')}' "></span>
										</div>
										<input tabindex="15"
											data-bind="ntsTextEditor: {
												name: '#[CPS005_21]',
												value: decimalPart,
												constraint: 'DecimalPart',
												option: {
									            	textmode: 'text',
									            	placeholder: '',
									            	width: '175px',
									            	textalign: 'left'
									            },
												required: true,
												enable: true,
												readonly: false,
												immediate: false}" />
									</div>
									<div
										class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {}"
											class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_35')}' "></span>
										</div>
										<input
											data-bind="ntsNumberEditor: {
												name: '#[CPS005_38]',
												value: numericItemMin,
												constraint: 'NumericItemMin',
												option: {
								                    width: '80px',
								                },
												required: false,
												enable: true,
												readonly: false}" />
										<span class="label">～</span> <input
											data-bind="ntsNumberEditor: {
												name: '#[CPS005_39]',
												value: numericItemMax,
												constraint: 'NumericItemMax',
												option: {
								                    width: '80px',
								                },
												required: false,
												enable: true,
												readonly: false}" />
									</div>
								</div>
								<!-- End dataType is selected value 2 - 数値(Numeric) -->
	
								<!-- Start dataType is selected value 3 - 日付(Date) -->
								<div id="data-type-value-date" data-bind="with: dateItem, visible: dataType() == 3">
									<div class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_24')}' "></span>
										</div>
										<div tabindex="16"
											data-bind="ntsSwitchButton: {
											name: '#[CPS005_24]',
											options: $parents[1].dateItemTypeEnum,
											optionsValue: 'value',
											optionsText: 'localizedName',
											value: dateItemType,
											enable: true }">
										</div>
									</div>
							    </div>
								<!-- End dataType is selected value 3 - 日付(Date) -->
	
								<!-- Start dataType is selected value 4 - 時間(Time) -->
								<div id="data-type-value-time" data-bind="with: timeItem, visible: dataType() == 4">
									<div class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {required: true}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_29')}' "></span>
										</div>
										<input tabindex="17" data-bind="ntsTimeEditor: {
												name: '#[CPS005_30]',
												value: timeItemMin,
												constraint: 'TimeItemMin',
												inputFormat: 'time', 
										 		mode: 'time', 
										 		option: {
								                    width: '80px',
								                },
												required: false,
												enable: true,
												readonly: false}" />
										<span class="label">～</span>
										<input tabindex="18" data-bind="ntsTimeEditor: {
												name: '#[CPS005_31]',
												value: timeItemMax,
												constraint: 'TimeItemMax',
												inputFormat: 'time', 
										 		mode: 'time',
										 		option: {
								                    width: '80px',
								                },
												required: false,
												enable: true,
												readonly: false}" />
									</div>
							    </div>
								<!-- End dataType is selected value 4 - 時間(Time) -->
	
	
								<!-- Start dataType is selected value 5 - 時刻(TimePoint) -->
								<div id="data-type-value-timepoint" data-bind="with: timePointItem, visible: dataType() == 5">
									<div class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {required: true}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_32')}' "></span>
										</div>
										<input tabindex="19" data-bind="ntsTimeWithDayEditor: {
												name: '#[CPS005_33]',
												value: timePointItemMin,
												constraint: 'TimeWithDayAttr',
										 		option: {
								                    width: '65px',
								                    timeWithDay: false
								                },
												required: false,
												enable: true,
												readonly: false}" />
										<span class="label">～</span>
										<input tabindex="20" data-bind="ntsTimeWithDayEditor: {
												name: '#[CPS005_34]',
												value: timePointItemMax,
												constraint: 'TimeWithDayAttr',									
										 		option: {
								                    width: '65px',
								                    timeWithDay: false
								                },
												required: false,
												enable: true,
												readonly: false}" />
									</div>
							    </div>
								<!-- End dataType is selected value 5 - 時刻(TimePoint) -->
	
	
								<!-- Start dataType is selected value 6 - 選択(Selection) -->
								<div id="data-type-value-selection" data-bind="with: selectionItem, visible: dataType() == 6">
									<div class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {required: true}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_26')}' "></span>
										</div>
										<div tabindex="21" id="combo-box"
											data-bind="ntsComboBox: {
											name: '#[CPS005_26]',
											options: $parents[1].referenceTypeEnum,
											optionsValue: 'value',
											visibleItemsCount: 10,
											value: selectionItemRefType,
											optionsText: 'localizedName',
											editable: false,
											enable: true,
											columns: [
												{ prop: 'localizedName', length: 10 },
											]}">
										</div>
										<button tabindex="22" data-bind="" style="padding: 0px 20px;">#{i18n.getText('CPS005_49')}</button>
									</div>
							    </div>
								<!-- End dataType is selected value 6 - 選択(Selection) -->
							</div>
							
						</div>
						<!-- End perInfoItem selection is not fixed -->
						
						<!-- Start perInfoItem selection is fixed -->
						<div data-bind="visible: fixedAtr() == 1 ">
							<div
								class="valign-center control-group control-group-margin-custom">
								<div data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
									<span data-bind="text: '#{i18n.getText('CPS005_13')}' "></span>
								</div>
								<span class="label" data-bind = "text: itemName"></span>
							</div>
							
							<div data-bind="visible: itemType() == 2">
								  <div
									class="valign-center control-group control-group-margin-custom">
									<div data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
										<span data-bind="text: '#{i18n.getText('CPS005_15')}' "></span>
									</div>
									<span class="label" data-bind = "text: dataTypeText"></span>
								</div>
	
								<!-- Start dataTypeEnum is selected value 1 - 文字列(String) -->
								<div id="data-type-value-string"
									data-bind="with: stringItem, visible: dataType() == 1">
									<div
										class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_16')}' "></span>
										</div>
										<span class="label" data-bind = "text: stringItemTypeText"></span>
									</div>
	
									<div
										class="valign-center control-group control-group-margin-custom">
										<div
											data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_17')}' "></span>
										</div>
										<span class="label" data-bind = "text: stringItemLength"></span>
									</div>
									<div
										class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_8')}' "></span>
										</div>
										<span class="label" data-bind = "text: stringItemDataTypeText"></span>
										<button tabindex="11"
											data-bind="ntsHelpButton: {image: '../image/data-type.png', position: 'right top', enable: true }">?</button>
									</div>
								</div>
								<!-- End dataTypeEnum is selected value 1 - 文字列(String) -->
	
								<!-- Start dataType is selected value 2 - 数値(Numeric) -->
								<div id="data-type-value-numeric"
									data-bind="with: numericItem, visible: dataType() == 2">
									<div
										class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_18')}' "></span>
										</div>
										<span class="label" data-bind = "text: numericItemAmountText"></span>
									</div>
									<div
										class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_19')}' "></span>
										</div>
										<span class="label" data-bind = "text: numericItemMinusText"></span>
									</div>
									<div
										class="valign-center control-group control-group-margin-custom">
										<div
											data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_20')}' "></span>
										</div>
										<span class="label" data-bind = "text: integerPart"></span>
									</div>
									<div
										class="valign-center control-group control-group-margin-custom">
										<div
											data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_21')}' "></span>
										</div>
										<span class="label" data-bind = "text: decimalPart"></span>
									</div>
									<div
										class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {}"
											class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_35')}' "></span>
										</div>
										<span class="label" data-bind = "text: numericItemMin"></span>
										<span class="label">～</span> 
										<span class="label" data-bind = "text: numericItemMax"></span>
									</div>
								</div>
								<!-- End dataType is selected value 2 - 数値(Numeric) -->
	
								<!-- Start dataType is selected value 3 - 日付(Date) -->
								<div id="data-type-value-date" data-bind="with: dateItem, visible: dataType() == 3">
									<div class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_24')}' "></span>
										</div>
										<span class="label" data-bind = "text: dateItemTypeText"></span>
									</div>
							    </div>
								<!-- End dataType is selected value 3 - 日付(Date) -->
	
								<!-- Start dataType is selected value 4 - 時間(Time) -->
								<div id="data-type-value-time" data-bind="with: timeItem, visible: dataType() == 4">
									<div class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_29')}' "></span>
										</div>
										<span class="label" data-bind = "text: timeItemMin"></span>
										<span class="label">～</span>
										<span class="label" data-bind = "text: timeItemMax"></span>
									</div>
							    </div>
								<!-- End dataType is selected value 4 - 時間(Time) -->
	
	
								<!-- Start dataType is selected value 5 - 時刻(TimePoint) -->
								<div id="data-type-value-timepoint" data-bind="with: timePointItem, visible: dataType() == 5">
									<div class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_32')}' "></span>
										</div>
										<span class="label" data-bind = "text: timePointItemMin"></span>
										<span class="label">～</span>
										<span class="label" data-bind = "text: timePointItemMax"></span>
									</div>
							    </div>
								<!-- End dataType is selected value 5 - 時刻(TimePoint) -->
	
	
								<!-- Start dataType is selected value 6 - 選択(Selection) -->
								<div id="data-type-value-selection" data-bind="with: selectionItem, visible: dataType() == 6">
									<div class="valign-center control-group control-group-margin-custom">
										<div data-bind="ntsFormLabel: {}" class="margin-right-FormLabel">
											<span data-bind="text: '#{i18n.getText('CPS005_26')}' "></span>
										</div>
										<span class="label" data-bind = "text: selectionItemRefTypeText"></span>
										<button tabindex="22" data-bind="" style="padding: 0px 20px; margin-left: 50px;">#{i18n.getText('CPS005_49')}</button>
									</div>
							    </div>
								<!-- End dataType is selected value 6 - 選択(Selection) -->
							</div>							
						</div>
						<!-- End perInfoItem selection is fixed -->

					</div>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>