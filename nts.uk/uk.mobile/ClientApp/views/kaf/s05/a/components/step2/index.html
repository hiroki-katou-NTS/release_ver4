<div class="kaf00502">
    <div class="accordion border-bottom" v-if="kafs05ModelStep2.indicationOvertimeFlg">
        <div class="card">
            <div class="card-header">
                <button class="btn btn-link" type="button">
                    {{'KAF005_23' | i18n}}
                </button>
            </div>
            <div class="collapse">
                <div class="card-body">
                    <table class="table table-36">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">{{'KAF005_24' | i18n}}</th>
                                <th scope="col">{{'KAF005_25' | i18n}}</th>
                                <th scope="col">{{'KAF005_26' | i18n}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(item, i) of kafs05ModelStep2.overtimeWork">
                                <td :class="item.color">{{item.yearMonth}}</td>
                                <td :class="item.color">{{item.limitTime | timedr}}</td>
                                <td :class="item.color">{{item.actualTime | timedr}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="input-container">
        <div class="card card-label">
            <div class="card-header">
                <span>{{'KAFS05_70' | i18n}}</span>
                <span class="badge badge-warning">必須</span>
            </div>
            <div class="card-body">
                <v-errors v-model="$errors.kafs05ModelStep2.overtimeHours" class="d-block mt-0 mb-2" />
                <div v-for="(item, i) of kafs05ModelStep2.overtimeHours">
                    <div class="row">
                        <div class="col-4">
                            <span class="small-header">{{item.frameName | i18n}}</span>
                        </div>
                        <div class="col-4 display-time"
                            v-if="kafs05ModelStep2.prePostSelected == 1 && !item.preAppExceedState">
                            <span class="far fa-clock" v-if="item.preAppTime">事前[{{item.preAppTime | timedr}}]</span>
                            <span class="far fa-clock" v-if="!item.preAppTime">事前[--:--]</span>
                        </div>
                        <div class="col-4 display-time-exceed"
                            v-if="kafs05ModelStep2.prePostSelected == 1 && item.preAppExceedState">
                            <span class="far fa-clock" v-if="item.preAppTime">事前[{{item.preAppTime | timedr}}]</span>
                            <span class="far fa-clock" v-if="!item.preAppTime">事前[--:--]</span>
                        </div>
                        <div class="col-4 display-time"
                            v-if="kafs05ModelStep2.prePostSelected == 1 && !item.actualExceedState">
                            <span class="far fa-clock"
                                v-if="item.caculationTime">実績[{{item.caculationTime | timedr}}]</span>
                            <span class="far fa-clock" v-if="!item.caculationTime">実績[--:--]</span>
                        </div>
                        <div class="col-4 display-time-exceed"
                            v-if="kafs05ModelStep2.prePostSelected == 1 && item.actualExceedState">
                            <span class="far fa-clock"
                                v-if="item.caculationTime">実績[{{item.caculationTime | timedr}}]</span>
                            <span class="far fa-clock" v-if="!item.caculationTime">実績[--:--]</span>
                        </div>
                    </div>
                    <nts-time-editor time-input-type="time-duration" v-model="item.applicationTime"
                        v-bind:disabled="!kafs05ModelStep2.enableOvertimeInput" 
                        v-bind:errors="$errors.kafs05ModelStep2.overtimeHours"
                        v-bind:show-error="false"/>
                </div>
            </div>
        </div>
        <div class="card card-label" v-if="kafs05ModelStep2.displayBonusTime">
            <div class="card-header">
                <span>{{'KAFS05_74' | i18n}}</span>
                <span class="badge badge-info">任意</span>
            </div>
            <div class="card-body">
                <div v-for="(item, i) of kafs05ModelStep2.bonusTimes">
                    <div class="row">
                        <div class="col-4">
                            <span class="small-header">{{item.frameName | i18n}}</span>
                        </div>
                        <div class="col-4 display-time"
                            v-if="kafs05ModelStep2.prePostSelected == 1 && !item.preAppExceedState">
                            <span class="far fa-clock" v-if="item.preAppTime">事前[{{item.preAppTime | timedr}}]</span>
                            <span class="far fa-clock" v-if="!item.preAppTime">事前[--:--]</span>
                        </div>

                        <div class="col-4 display-time-exceed"
                            v-if="kafs05ModelStep2.prePostSelected == 1 && item.preAppExceedState">
                            <span class="far fa-clock" v-if="item.preAppTime">事前[{{item.preAppTime | timedr}}]</span>
                            <span class="far fa-clock" v-if="!item.preAppTime">事前[--:--]</span>
                        </div>
                    </div>
                    <nts-time-editor v-model="item.applicationTime" time-input-type="time-duration" />
                </div>
            </div>
        </div>
        <div class="card card-label">
            <div class="card-header"
                v-if="kafs05ModelStep2.typicalReasonDisplayFlg || kafs05ModelStep2.displayAppReasonContentFlg">
                <span>{{'KAFS05_75' | i18n}}</span>
                <span class="badge badge-warning" v-if="kafs05ModelStep2.requiredReason">必須</span>
                <span class="badge badge-info" v-if="!kafs05ModelStep2.requiredReason">任意</span>
            </div>
            <div class="card-body">
                <div v-if="kafs05ModelStep2.typicalReasonDisplayFlg">
                    <span class="small-header">{{'KAFS05_76' | i18n}}</span>
                    <nts-dropdown v-model="kafs05ModelStep2.selectedReason" :showError="!kafs05ModelStep2.displayAppReasonContentFlg">
                        <option v-for="item in kafs05ModelStep2.reasonCombo" :value="item.reasonId">
                            {{item.reasonName}}
                        </option>
                    </nts-dropdown>
                </div>
                <div v-if="kafs05ModelStep2.displayAppReasonContentFlg">
                    <span class="small-header">{{'KAFS05_77' | i18n}}</span>
                    <nts-text-area　v-model="kafs05ModelStep2.multilContent" />
                </div>
            </div>
        </div>
        <div class="card card-label"
            v-if="kafs05ModelStep2.prePostSelected == 1">
            <div class="card-header">
                <span>{{'KAFS05_78' | i18n}}</span>
                <span class="badge badge-info">任意</span>
            </div>
            <div class="card-body">
                <div v-if="kafs05ModelStep2.displayDivergenceReasonForm">
                    <span class="small-header">{{'KAFS05_79' | i18n}}</span>
                    <nts-dropdown v-model="kafs05ModelStep2.selectedReason2" :showError="false">
                        <option value="" selected="selected">--- 未選択 ---</option>
                        <option v-for="item in kafs05ModelStep2.reasonCombo2" :value="item.reasonId">
                            {{item.reasonName}}
                        </option>
                    </nts-dropdown>
                </div>
                <div v-if="kafs05ModelStep2.displayDivergenceReasonInput">
                    <span class="small-header">{{'KAFS05_80' | i18n}}</span>
                    <nts-text-area　v-model="kafs05ModelStep2.multilContent2" />
                </div>
            </div>
        </div>
        <div class="card card-label">
            <div class="card-body">
                <button type="button" class="btn btn-success btn-block"
                    v-on:click="next">{{'KAFS05_17' | i18n}}</button>
                <button type="button" class="btn btn-secondary btn-block btn-sm"
                    v-on:click="$emit('backToStep1', kafs05ModelStep2)">{{'KAFS05_12' | i18n}}</button>
            </div>
        </div>
    </div>
</div>