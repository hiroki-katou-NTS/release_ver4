<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/base.xhtml">
		<ui:define name="htmlHead">
			<com:ValidatorScript>
				nts.uk.ctx.pr.core.dom.wageprovision.statementitem.ItemNameCd
				nts.uk.ctx.pr.core.dom.wageprovision.statementitem.ItemName
				nts.uk.ctx.pr.core.dom.wageprovision.statementitem.ShortName
			</com:ValidatorScript>
			<com:stylefile path="qmm012.b.style.css" />
			<com:scriptfile set="IGNITE" />
			<com:scriptfile path="../share/model.js" />
			<com:scriptfile path="qmm012.b.start.js" />
			<com:scriptfile path="qmm012.b.service.js" />
			<com:scriptfile path="qmm012.b.vm.js" />
		</ui:define>

		<ui:define name="content">
			<div id="functions-area">
				<!-- 新規 -->
				<button id="B1_1" class="newBtn" data-bind="click : create, enable: true">#{i18n.getText('QMM012_20')}</button>
				<!-- 登録 -->
				<button id="B1_2" class="registerBtn proceed" data-bind="click : register, enable: true">#{i18n.getText('QMM012_21')}</button>
				<!-- コピー -->
				<button id="B1_3" class="copyBtn" data-bind="click : copy, enable: false">#{i18n.getText('QMM012_22')}</button>
				<!-- 削除 -->
				<button id="B1_4" class="deleteBtn danger" data-bind="click : deleteItem, enable: true">#{i18n.getText('QMM012_23')}</button>
				<!-- Excel出力 -->
				<button id="B1_5" class="outputExcelBtn" data-bind="click : outputExcel, enable: false">#{i18n.getText('QMM012_24')}</button>
				<!-- マスタ修正ログ -->
				<button id="B1_6" class="modifyLogBtn" data-bind="click : modifyLog, enable: true">#{i18n.getText('QMM012_25')}</button>
				<!-- 印字名称の登録 -->
				<button id="B1_7" class="registerPrintingBtn" data-bind="click : registerPrintingName, enable: true">#{i18n.getText('QMM012_10')}</button>
			</div>
			<div id="contents-area">
				<div class="fixed-flex-layout-left">
					<!-- 項目一覧パネル -->
					<div id="B2_1" data-bind="ntsPanel:{width: '410px', height: '470px', direction: 'right', showIcon: true, visible: true}">
						<div class="valign-center control-group">
							<!-- 項目区分 -->
							<div id="B2_2" data-bind="ntsFormLabel: { }">#{i18n.getText('#QMM012_27')}</div>
							<!-- 項目区分リスト -->
							<div id="B2_3" data-bind="ntsComboBox: {name: '#[QMM012_27]',
																	options: categoryList,
																	optionsValue: 'code',
																	visibleItemsCount: 6,
																	value: selectedCategory,
																	optionsText: 'name',
																	enable: true,
																	required: true,
																	selectFirstIfNull: true,
																	columns: [
																		{ prop: 'name', length: 12 }
																	]}"></div>
							<!-- 廃止も表示する -->
							<div id="B2_5" data-bind="ntsCheckBox: { checked: true }">#{i18n.getText('QMM012_28')}</div>
						</div>
						<!-- B2_6, B2_7, B2_8 -->
						<div style="width: 410px" data-bind="ntsSearchBox: {searchMode: 'highlight',
																			label: '#[QMM012_29]',
																			targetKey: 'salaryItemId', 
																			comId: 'statementList', 
																			items: statementItemDataList, 
																			selected: statementItemDataSelected().salaryItemId, 
																			selectedKey: 'salaryItemId',
																			searchText: '#[QMM012_30]',
																			fields: ['itemNameCd'], 
																			mode: 'igGrid'}" />
						<!-- B2_9 -->
						<table  id="statementList" 
							    data-bind="ntsGridList: { name: '#[QMM012_31]',
								options: statementItemDataList,
								primaryKey: 'salaryItemId',
								columns: gridColumns,
								multiple: false,
								rows: 15,
								value: statementItemDataSelected().salaryItemId
							}"></table>
					</div>
					
				</div>
				<div class="fixed-flex-layout-right" data-bind="with: statementItemDataSelected">
					<div class="valign-center control-group">
						<!-- コード/名称 -->
						<div id="B3_1" data-bind="ntsFormLabel: {required: true, constraint: ['ItemNameCd', 'ItemName'] }">#{i18n.getText('#QMM012_29')}</div>
						<!-- 項目名コード -->
						<input id="B3_2"
								data-bind="ntsTextEditor :{
									name: '#[QMM012_32]',
									value: statementItem.itemNameCd,
									constraint: 'ItemNameCd',
									option: {width: '40px'},
									required: true,
									enable: true,
									readonly: false}" />
						<!-- 項目名コード -->
						<input id="B3_3"
								data-bind="ntsTextEditor :{
									name: '#[QMM012_33]',
									value: statementItemName.name,
									constraint: 'ItemName',
									option: {width: '200px'},
									required: true,
									enable: true,
									readonly: false}" />
						<!-- この項目名を廃止する -->
						<div id="B3_12" data-bind="ntsCheckBox: { checked: statementItem.deprecatedAtr, style: 'warnpanel'}">
							#{i18n.getText('#QMM012_38')}
						</div>
						<!-- 廃止区分について -->
						<button id="B3_13" data-bind="ntsHelpButton: {image: '../resource/QMM012_1.png', position: 'bottom right', enable: true }">?</button>
					</div>
					<div class="valign-center control-group">
					 	<!-- 略名 -->
						<div id="B3_4" data-bind="ntsFormLabel: {required: true }">#{i18n.getText('#QMM012_35')}</div>
						<!-- 項目名コード -->
						<input id="B3_5"
								data-bind="ntsTextEditor :{
									name: '#[QMM012_35]',
									value: statementItemName.shortName,
									constraint: 'ShortName',
									option: {width: '200px'},
									required: true,
									enable: true,
									readonly: false}" />
					</div>
					<div class="valign-center control-group">
						<!-- 項目区分 -->
						<div id="B3_6" data-bind="ntsFormLabel: {required: true }">#{i18n.getText('#QMM012_27')}</div>
						<label data-bind="text: statementItem.categoryName"></label>
					</div>
					<hr />
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>