<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/base.xhtml">
		<ui:define name="htmlHead">
			<com:scriptfile set="IGNITE" />
			<com:scriptfile path="qmm017.a.vm.js" />
			<com:scriptfile path="../d/qmm017.d.vm.js" />
			<com:ValidatorScript>
		        nts.uk.ctx.pr.core.dom.wageprovision.formula.FormulaCode
		        nts.uk.ctx.pr.core.dom.wageprovision.formula.FormulaName
		    </com:ValidatorScript>
			<com:scriptfile path="qmm017.a.start.js" />

		</ui:define>

		<ui:define name="content">
			<div id="functions-area">
				<button tabindex="1">#{i18n.getText('QMM017_1')}</button>
				<button tabindex="2" class="proceed">#{i18n.getText('QMM017_2')}</button>
				<button tabindex="3">#{i18n.getText('QMM017_3')}</button>
				<button tabindex="4">#{i18n.getText('QMM017_4')}</button>
				<button tabindex="5">#{i18n.getText('QMM017_5')}</button>
			</div>
			<div id="contents-area" class="fixed-flex-layout">
				<div class="fixed-flex-layout-left">
					<div data-bind="ntsPanel:{width: '350px', height: '400px', direction: 'right', showIcon: true, visible: true}">
						<div class="valign-center control-group cf">
							<div class="pull-left" data-bind="ntsFormLabel: { }">#{i18n.getText('QMM017_8')}</div>
							<div class="pull-left" tabindex="6" style="width: 240px" data-bind="ntsSearchBox: {
								targetKey: 'code', 
								mode:'igTree', 
								comId:'formula-tree', 
								items: formulaList, 
								selected: selectedFormulaCode, 
								selectedKey: 'code', 
								childField: 'childs', 
								fields: ['name', 'code']}" />
						</div>
						<div class="valign-center control-group cf">
							<button tabindex="7">#{i18n.getText('QMM017_9')}</button>
							<button tabindex="8">#{i18n.getText('QMM017_10')}</button>
						</div>
						<table id="formula-tree" tabindex="9"
							data-bind="ntsTreeGridView:{
							name: '#[QMM017_13]',
							width: 300,
							height: 250,
							dataSource: formulaList,
							value: selectedFormulaCode,
							headers: headers,
							primaryKey: 'code',
							childDataKey: 'childs',
							primaryText: 'nodeText',
							multiple: false,
							enable: true,
							showCheckBox: false}"></table>
					</div>
				</div>
				<div class="fixed-flex-layout-right">
					<div id="tab-panel" tabindex="10"
						data-bind="ntsTabPanel: { dataSource: tabs, active: selectedTab}">
						<div class="tab-content-1" data-bind="with: selectedFormula">
							<div class="valign-center control-group cf">
								<div class="label warning">#{i18n.getText('QMM017_11')}</div>
							</div>
							<div class="valign-center control-group cf">
								<div data-bind="ntsFormLabel: { required: true, constraint: ['FormulaCode', 'FormulaName'] }">#{i18n.getText('QMM017_8')}</div>
								<input tabindex="11" data-bind="ntsTextEditor: {name: '#[QMM017_14]', value: formulaCode, required: true, constraint: 'FormulaCode', option: {width: '40px'}}" />
								<input tabindex="12" data-bind="ntsTextEditor: {name: '#[QMM017_15]', value: formulaName, required: true, constraint: 'FormulaName', option: {width: '345px'}}" />
							</div>
							<div class="valign-center control-group cf">
								<div data-bind="ntsFormLabel: { required: true }">#{i18n.getText('QMM017_12')}</div>
							</div>
							<div class="valign-center control-group cf">
								<div data-bind="ntsFormLabel: { required: true }">#{i18n.getText('QMM017_17')}</div>
								<div class="cf" data-bind="ntsSwitchButton: {
									name: '#[QMM017_17]',
									options: $vm.settingMethods,
									optionsValue: 'code',
									optionsText: 'name',
									value: settingMethod,
									required: true,
									enable: true }"></div>
							</div>
							<div>
								<div class="valign-center control-group cf">
									<span class="label">#{i18n.getText('QMM017_19')}</span>
								</div>
								<hr></hr>
								<com:ko-if bind="settingMethod() == 0">
									<div class="valign-center control-group cf">
										<span class="label">#{i18n.getText('QMM017_20')}</span>
									</div>
									<div class="valign-center control-group cf">
										<div data-bind="ntsFormLabel: { required: true }">#{i18n.getText('QMM017_21')}</div>
									</div>
									<div class="valign-center control-group cf">
										<div data-bind="ntsFormLabel: { required: true }">#{i18n.getText('QMM017_23')}</div>
									</div>
								</com:ko-if>
								<com:ko-if bind="settingMethod() == 1">
									<div class="valign-center control-group cf">
										<span class="label">#{i18n.getText('QMM017_25')}</span>
									</div>
									<div class="valign-center control-group cf">
										<div data-bind="ntsFormLabel: { required: true }">#{i18n.getText('QMM017_26')}</div>
									</div>
								</com:ko-if>
							</div>
						</div>
						<div class="tab-content-2">
							<com:ko-if bind="selectedFormula().settingMethod() == 0">
								<ui:include src="../b/index.xhtml" />
							</com:ko-if>
							<com:ko-if bind="selectedFormula().settingMethod() == 1">
								<div data-bind="with: viewModelD">
									<div id="tab-panel-screen-d"
										data-bind="ntsTabPanel: { dataSource: screenDtabs, active: screenDselectedTab}">
										<div class="tab-content-1">
											
										</div>
										<div class="tab-content-2">
											
										</div>
										<div class="tab-content-3">
											
										</div>
										<div class="tab-content-4">
											
										</div>
										<div class="tab-content-5">
											
										</div>
										<div class="tab-content-6">
											
										</div>
										<div class="tab-content-7">
											
										</div>
									</div>
								</div>
							</com:ko-if>
						</div>
					</div>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>