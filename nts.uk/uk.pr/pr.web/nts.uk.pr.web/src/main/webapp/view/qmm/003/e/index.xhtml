<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/dialog.xhtml">
		<ui:define name="htmlHead">
			<script>var dialogSize = { width: 942, height: 690 };</script>
			<com:scriptfile set="IGNITE" />
			<com:scriptfile path="../share/constants.js"/>
			<com:scriptfile path="qmm003.e.service.js" />
			<com:scriptfile path="qmm003.e.vm.js" />
			<com:scriptfile path="qmm003.e.start.js" />
		</ui:define>
		<ui:define name="content">
			<div class="contents-area dialog-content" style="padding: 10px 25px">
				<div class="valign-center control-group">
					<!-- E1_1 -->
					<span class="label">#{i18n.getText('QMM003_29')}</span><br/>
				</div>
				<div class="valign-center control-group">
					<!-- E1_2 -->
					<div data-bind="ntsFormLabel: { required: true }">#{i18n.getText('QMM003_30')}</div>
					<!-- E1_3 -->
					<div id="E1_3" tabindex="13"
                                 data-bind="ntsDatePicker: {
                                    name: '#[QMM016_16]',
                                    value: targetYm,
                                    dateFormat: 'yearmonth',
                                    valueFormat: 'YYYYMM',
                                    required: true,
                                    enable: true}"/>
					<!-- E1_4 -->
					<div style="margin-left: 10px;" id="E1_4" data-bind="text: displayJapanYm"/>
				</div>
				<div id="source" style="display: inline-block">
					<div class="valign-center control-group">
						<!-- E2_1 -->
						<span class="label">#{i18n.getText('QMM003_31')}</span>
					</div>
					<div class="valign-center control-group">
						<!-- E2_2 -->
						<i class="icon icon-searchbox pull-left" style="margin: 0px !important; position: relative !important"></i>
						<!-- E2_3 -->
						<div tabindex="2" style="width: 350px; padding-left: 8px" class="pull-left" data-bind="ntsSearchBox: {
							targetKey: 'code', mode:'igTree', comId:'treegridsource', items: source, 
							selected: sourceSelectedCode, selectedKey: 'code', childField: 'children', fields: ['name', 'code']}" />
					</div>
					<!-- E2_4 -->
					<table id="treegridsource" tabindex="3"
						data-bind="ntsTreeGridView:{
							width: 400,
							rows: 15,
							name: '#[QMM003_32]',
							dataSource: source,
							value: sourceSelectedCode,
							headers: headers,
							primaryKey: 'code',
							childDataKey: 'children',
							primaryText: 'nodeText',
							multiple: false,
							enable: true,
							initialExpandDepth: 1,
							showCheckBox: false}"></table>
				</div>
				<div id="midsec" style="display: inline-block; width: 65px">
					<!-- E1_5 -->
					<hr width="1" size="430"/>
					<!-- E1_6 -->
					<span class="caret-right caret-inline"></span>
				</div>
				<div id="destination" style="display: inline-block">
					<div class="valign-center control-group">
						<!-- E3_1 -->
						<span class="label">#{i18n.getText('QMM003_33')}</span>
					</div>
					<div class="valign-center control-group">
						<!-- E3_2 -->
						<i class="icon icon-searchbox pull-left" style="margin: 0px !important; position: relative !important"></i>
						<!-- E3_3 -->
						<div tabindex="4" style="width: 350px; padding-left: 8px" class="pull-left" data-bind="ntsSearchBox: {
							targetKey: 'code', mode:'igTree', comId:'treegriddestination', items: destination, 
							selected: selectedCode, selectedKey: 'code', childField: 'children', fields: ['name', 'code']}" />
					</div>
					<!-- E3_4 -->
					<table id="treegriddestination" tabindex="5"
						data-bind="ntsTreeGridView:{
							width: 400,
							rows: 15,
							name: '#[QMM003_34]',
							dataSource: destination,
							value: selectedCode,
							headers: headers,
							primaryKey: 'code',
							childDataKey: 'children',
							primaryText: 'nodeText',
							multiple: false,
							enable: true,
							initialExpandDepth: 1,
							showCheckBox: false}"></table>
				</div>
			</div>
			<div id="functions-area-bottom">
				<!-- E4_1 -->
				<button tabindex="6" class="x-large proceed" data-bind="click: execute, enable: sourceSelectedCode().length > 2, timeClick: 500">#{i18n.getText('QMM003_35')}</button>
				<!-- E4_2 -->
				<button tabindex="7" data-bind="click: close, timeClick: 500">#{i18n.getText('QMM003_25')}</button>
			</div>
			<style>
				#treegridsource_container, #treegriddestination_container{clear: both}
				.caret-right.caret-inline:after {
				    margin-left: 2.3em;
				    margin-top: -31.7em;
				    border-left: 1.7em solid;
				    border-top: 6.7em solid transparent;
				    border-bottom: 6.7em solid transparent;
				}
			</style>
		</ui:define>
	</ui:composition>
</body>
</html>