<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="/master/base.xhtml">
		<ui:define name="htmlHead">
			<com:scriptfile set="IGNITE" />
			<com:scriptfile path="../share/model.js" />
			<com:scriptfile path="qmm011.b.start.js" />
			<com:scriptfile path="qmm011.b.service.js" />
			<com:scriptfile path="qmm011.b.vm.js" />
			<com:stylefile path="qmm011.b.style.css" />
		</ui:define>
		<ui:define name="content">
		<div
					class="sidebar-content-header flex valign-center header-content">
					<span class="title">#{i18n.getText('KDM001_149')}</span>

					<div style="margin-left: 100px">
						<div>
							<!-- A1_1-->
							<button class="proceed" id="A1_1" tabindex="1"
								data-bind="click: register ,enable: !enableRegis()">#{i18n.getText('qmm011_1')}</button>
							<!-- A1_2 -->
							<button id="A1_2" tabindex="2"
								data-bind="">#{i18n.getText('qmm011_2')}</button>
						</div>
					</div>

				</div>
	<div class = "content">
		<div class = "left">
			<div id="B1_1" 
				data-bind="ntsPanel:{width: '270px', height: '400px', showIcon:true, direction: 'none', visible: true}">
					<div id="functions-area">
						<!-- B1_2 履歴追加 -->
						<button id ="B1_2"  tabindex="1" data-bind="click: openEscreen , enable: !enableNew()">#{i18n.getText('QMM011_6')}</button>
						<!-- B1_3 履歴編集 -->
						<button id ="B1_3"  tabindex="2" data-bind="click: openFscreen, enable: enableUpdate()">#{i18n.getText('QMM011_7')}</button>
					</div>
					<div>
						<!--B1_4 雇用保険料率一覧 -->
						<table id="B1_4" tabindex="3"
								data-bind="ntsGridList: {
												name: '#QMM011_8',
												height: 700,
												rows: 15,
		                                        dataSource: listEmpInsHis,
		                                        primaryKey: 'hisId',
		                                        columns: [
		                                        				{headerText: '', key: 'hisId', width: 10, hidden: true},
																{headerText: '', key: 'display', width: 250, formatter: _.escape}
								         
								                		],                                        
								                multiple: false,
		                                        value: selectedEmpInsHisId
		                        				}">
						</table>
					</div>
				</div>
			</div>
			<div class = "right">
				<div id="B2_1" class="column-1" data-bind="ntsFormLabel: {required:true}">#{i18n.getText('QMM011_10')} </div>
				<!--B2_2 開始年月 -->
				<span class="label" data-bind="text: startYearMonth"></span>
				<!--B2_3 開始年月和暦 -->
				<span class="label" data-bind="text: monthlyCalendar"></span>
				<!--B2_4 ～  -->
				<label id= "B2_4">#{i18n.getText('QMM011_9')}</label>
				<!--B2_5 終了年月  -->
				<span class="label" data-bind="text: endYearMonth"></span>
				<div id ="B2_6" class="set-row">
					<hr />
				</div>
				<div class = "table">
				<table id="3_1" >
					<colgroup>
					<col width="20px" />
					<col width="150px" />
					<col width="150px" />
					<col width="150px" />
					<col width="150px" />
					</colgroup>
					<thead>
							<tr>
								<th class="bg-green" style="border: 1px solid #CCC"></th>
								<th class="bg-green">#{i18n.getText('QMM011_11')}</th>
								<th class="bg-green">#{i18n.getText('QMM011_12')}</th>
								<th class="bg-green">#{i18n.getText('QMM011_13')}</th>
								<th class="bg-green">#{i18n.getText('QMM011_12')}</th>
							</tr>
					</thead>
					<tbody data-bind="foreach: listEmpInsurPreRate()">
						<tr >
							<td class="bg-green" style="border: 1px solid #CCC">
								<com:ko-if bind="empPreRateId === 2">
									<span class = "label" id= "B3_6">#{i18n.getText('QMM011_14')}</span>
								</com:ko-if>
								<com:ko-if bind="empPreRateId === 1">
									<span class = "label" id= "B3_15">#{i18n.getText('QMM011_16')}</span>
								</com:ko-if>
								<com:ko-if bind="empPreRateId === 0">
									<span class = "label" id= "B3_24">#{i18n.getText('QMM011_17')}</span>
								</com:ko-if>
							</td>
							<td >
								<input id = "B3_7" class = "B3_7"  tabindex = "4"
										data-bind="ntsNumberEditor: {
																option : {width: '40px'},
																name: '#{i18n.getText('QMM011_11')}',
																value: indBdRatio,
																required: true,
																enable: !$parent.enableRegis()
																}"/>
								<span class ="label" id= "B3_8">#{i18n.getText('QMM011_15')}</span>
							</td>
							<td>
								<div class = "B3_9" tabindex = "5"
										data-bind="ntsComboBox: {
																
																name: '#{i18n.getText('QMM011_12')}',
																value: perFracClass,
																options: $parent.listPerFracClass,
																optionsValue: 'code',
																optionsText: 'name',
																visibleItemsCount: 5,
																enable: !$parent.enableRegis(),
																columns: [             
																{ prop: 'name', length: 10 },]
										
																}"/>
							</td>
							<td>
									<input id = "B3_11" class = "B3_11" tabindex = "6"
										data-bind="ntsNumberEditor: {
																option : {width: '40px'},
																value: empContrRatio,
																required: true,
																enable: !$parent.enableRegis(),
																name: '#{i18n.getText('QMM011_13')}'
																	}"/>

								<span class= "label" id= "B3_12">#{i18n.getText('QMM011_15')}</span>
							</td>
							<td>
								<div id = "B3_13"
										data-bind="ntsComboBox: {
																
																value: busiOwFracClass, 
																name:'#{i18n.getText('QMM011_12')}',
																options: $parent.listPerFracClass,
																optionsText: 'name',
																optionsValue: 'code',
																enable: !$parent.enableRegis()
																}">
																</div>

							</td>
						</tr>
			
					</tbody>
				</table>
				</div>
			</div>
		</div>
	</ui:define>
</ui:composition>
</body>
</html>