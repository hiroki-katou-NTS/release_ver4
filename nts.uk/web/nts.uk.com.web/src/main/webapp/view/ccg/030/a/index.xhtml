<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/dialog.xhtml">
		<ui:define name="htmlHead">
			<script>var dialogSize = { width: 1300, height: 720 };</script>
			<com:ValidatorScript>
					
					nts.uk.ctx.sys.portal.dom.toppagepart.TopPagePartCode
					nts.uk.ctx.sys.portal.dom.toppagepart.TopPagePartName
					nts.uk.ctx.sys.portal.dom.toppagepart.size.Width
					nts.uk.ctx.sys.portal.dom.toppagepart.size.Height
				</com:ValidatorScript>
			<com:scriptfile set="IGNITE" />
			<com:stylefile path="ccg030.a.style.css" />
			<com:scriptfile path="ccg030.a.start.js" />
			<com:scriptfile path="ccg030.a.vm.js" />
			<com:scriptfile path="ccg030.a.service.js" />
		</ui:define>

		<ui:define name="content">
			<div id="functions-area"  class="headerStyle">
				<button class ="btnSetting" data-bind="click: createNewFlowMenu">新規</button>
				<button class="proceed btnSetting" id="btnRegistry" data-bind="click: registryFlowMenu, enable: $root.errors.isEmpty">登録</button>
				<button class="danger btnSetting" id="btnDelete" data-bind="click: deleteNewFlowMenu, enable: !isCreate()">削除</button>
				<button class ="btnSetting" id ="btn004" data-bind= "click : closeDialog">閉じる</button>
			</div>
			<div id="contents-area" class="cf">
				<div id="left-content" class="bg-green caret-right caret-background">
					<i class="icon icon-searchbox"></i>
					<div class="search">
						<div style="float: left">
							<div id="searchBox" style="width: 360px"							
								data-bind="ntsSearchBox: {
								comId: 'flow-menu-list',
								items: listFlowMenu, 
								selected: selectedFlowMenuCD, 
								selectedKey: 'topPageCode', 
								fields: ['topPageCode', 'topPageName']}" />
						</div>
					</div>
					<div class="gridlist" style="margin-bottom: 20px;">
						<table id="flow-menu-list"
							data-bind="ntsGridList: {
								height: 460,
								options: listFlowMenu,
								optionsValue: 'topPageCode',
								columns: columns,
								multiple: false,
								value: selectedFlowMenuCD}">
						</table>
					</div>
				</div>
				<div id="right-content">
					<table class="right-layout">
						<colgroup>
							<col width="220px" />
							<col width="450px" />
							<col width="*" />
						</colgroup>
						<tr data-bind="with: selectedFlowMenu">
							<td><div data-bind="ntsFormLabel: { constraint: 'TopPagePartCode',constraint: ['TopPagePartCode','TopPagePartName'], required: true }">コード/名称</div></td>
							<td>
								<input id="inpCode" data-bind="ntsTextEditor: { value: topPageCode, constraint: 'TopPagePartCode', required: true , enable: $parent.isCreate}" />
								<input id="inpName" data-bind="ntsTextEditor: { value: topPageName, constraint: 'TopPagePartName', required: true}" />
							</td>
							<td></td>
						</tr>
						<tr>
							<td><div data-bind="ntsFormLabel: { required: true }">ファイル設定</div></td>
							<td>
								<button id="fileup" class="btn-upload" data-bind="click: uploadFile">ファイルのアップロード</button>
								<input type="file" id="file_upload" />
								<label id="fileName" class="hyperlink" data-bind="text: selectedFlowMenu.fileName"></label>
							</td>
							<td><button class="danger" data-bind = "enable: !isCreate()">削除</button></td>
						</tr>
						<tr>
							<td></td>
							<td><button class="btn-download" data-bind="enable: !isCreate()">ファイルのダウンロード</button></td>
							<td></td>
						</tr>
						<tr  data-bind="with: selectedFlowMenu">
							<td><div data-bind="ntsFormLabel: { required: true }">サイズ</div></td>
							<td>
								<span>横</span>
								<input id ="inp_width" class="input-size" data-bind="ntsTextEditor: { value: widthSize, constraint: 'Width', required: true , immediate:true}" />
								<span>マス</span>
								<span>縦</span>
								<input id ="inp_height" class="input-size" data-bind="ntsTextEditor: { value: heightSize, constraint: 'Height', required: true , immediate: true }" />
								<span>マス</span>
							</td>
							<td></td>
						</tr>
						<tr>
							<td><button id="preview" data-bind="click : open030B_Dialog" style="margin-top: 25px;">プレビュー</button></td>
							<td></td>
							<td></td>
						</tr>
					</table>					
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>