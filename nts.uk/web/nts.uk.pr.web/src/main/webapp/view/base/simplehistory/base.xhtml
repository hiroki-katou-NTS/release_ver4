<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../master/base.xhtml">
		<ui:define name="htmlHead">
			<com:scriptfile set="IGNITE" />
			<com:stylefile path="/view/base/simplehistory/simplehistory.css" />
			<com:scriptfile path="/view/base/simplehistory/service.js" />
			<com:scriptfile path="/view/base/simplehistory/viewmodel.js" />
			<ui:insert name="extendedHead" />
		</ui:define>

		<ui:define name="content">
			<!-- BEGIN FUNCTION AREA-->
			<div id="functions-area">
				<button id="btnNew"
					class="large btn-default">新規</button>
				<button id="btnUpdate" class="large proceed btn-default"
					data-bind="enable: $root.errors.isEmpty">登録</button>
				<ui:insert name="extendedAction" />
			</div>
			<!-- END FUNCTION AREA-->

			<!-- BEGIN CONTENT AREA-->
			<div id="contents-area">
				<!-- BEGIN LEFT CONTENT-->
				<div id="left-content" class="bg-green caret-right caret-background" style="width: 370px">
					<div>
						<div data-bind="ntsFormLabel: {}">コード/名称</div>
						<span id="historyTreeSearchBox"
							data-bind="ntsSearchBox: {comId:'historyTree',
							items: masterHistoryDatasource, 
							selected: selectedHistoryUuid,
							selectedKey: 'id', 
							childField: 'childs', 
							fields: ['nodeText']}"></span>
					</div>
					<div class="margin-top-bot-20" style="margin: 5px;">
						<div>
							<button class="pull-left" id="addHistory"
								data-bind="enable: canAddNewHistory">履歴追加</button>
							<button class="pull-right" id="editHistory"
								data-bind="enable: canUpdateHistory">履歴編集</button>
						</div>
						<div class="padding-top-10 pull-left cf">
							<table id="historyTree"
								data-bind="ntsTreeGridView:{
										height: 370,
										options: masterHistoryDatasource,
										value: selectedHistoryUuid,
										optionsValue: 'id',
										optionsChild: 'childs',
										optionsText: 'nodeText',
										multiple: false,
										enable: true,
										showCheckBox: false}"
								class="cf">
							</table>
						</div>
					</div>
				</div>
				<!-- END LEFT CONTENT-->

				<!-- BEGIN RIGHT CONTENT-->
				<div id="right-content">
					<ui:insert name="pageContent" />
				</div>
				<!-- END RIGHT CONTENT-->
			</div>
			<!-- END CONTENT AREA-->
		</ui:define>
	</ui:composition>
</body>
</html>