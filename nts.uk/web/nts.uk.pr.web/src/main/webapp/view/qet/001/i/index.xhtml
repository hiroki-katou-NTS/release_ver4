<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:com="http://xmlns.jcp.org/jsf/component"
	  xmlns:h="http://xmlns.jcp.org/jsf/html">

	<body>
		
		<ui:composition template="../../../../master/sidebar.xhtml">
			<ui:define name="sidebar-head">
				<script>var dialogSize = { width: 1200, height: 950 };</script>
				<com:stylefile path="qet001.i.main.css" />
				<com:scriptfile set="IGNITE" />
				<com:scriptfile path="qet001.i.service.js" />
				<com:scriptfile path="qet001.i.vm.js" />
				<com:scriptfile path="qet001.i.start.js" />
				<com:ValidatorScript>
					nts.uk.ctx.pr.report.dom.wageledger.aggregate.WLAggregateItemCode
					nts.uk.ctx.pr.report.dom.wageledger.aggregate.WLAggregateItemName
  				</com:ValidatorScript>
			</ui:define>
			
			<ui:define name="sidebar">
				<ul class="navigator">
					<li><a href="#salary-payment" role="tab-navigator" class="active" >給与支給項目</a></li>
					<li><a href="#tabpanel-2" role="tab-navigator">給与控除項目</a></li>
					<li><a href="#tabpanel-3" role="tab-navigator">給与勤怠項目</a></li>
					<li><a href="#tabpanel-4" role="tab-navigator">賞与支給項目</a></li>
					<li><a href="#tabpanel-5" role="tab-navigator">賞与控除項目</a></li>
					<li><a href="#tabpanel-6" role="tab-navigator">賞与勤怠項目</a></li>
				</ul>
			</ui:define>
						
			<ui:define name="sidebar-content">
		   		<div id="salary-payment" role="tabpanel">
					<div class="sidebar-content-header">
						<span class="title">給与支給項目</span>
						<com:ko tag="template" bind="{name: 'header-template', data: aggregateItemCategories()[0]}"></com:ko>
					</div>
					<com:ko tag="if" bind="selectedTab() == 0">
						<div class="contents-area">
							<com:ko tag="template" bind="{name: 'content-template', data: aggregateItemCategories()[0],
								afterRender: afterRender}"></com:ko>
				   		</div>
			   		</com:ko>
		   		</div>
		   		<div id="tabpanel-2" role="tabpanel">
		   			<div class="sidebar-content-header">
		   				<span class="title">給与控除項目</span>
		   				<com:ko tag="template" bind="{name: 'header-template', data: aggregateItemCategories()[1]}"></com:ko>
					</div>
					<com:ko tag="if" bind="selectedTab() == 1">
						<div class="contents-area">
							<com:ko tag="template" bind="{name: 'content-template', data: aggregateItemCategories()[1],
									afterRender: afterRender}"></com:ko>
				   		</div>
			   		</com:ko>
		   		</div>
		   		<div id="tabpanel-3" role="tabpanel">
		   			<div class="sidebar-content-header">
		   				<span class="title">給与勤怠項目</span>
		   				<com:ko tag="template" bind="{name: 'header-template', data: aggregateItemCategories()[2]}"></com:ko>
					</div>
					<com:ko tag="if" bind="selectedTab() == 2">
						<div class="contents-area">
							<com:ko tag="template" bind="{name: 'content-template', data: aggregateItemCategories()[2],
									afterRender: afterRender}"></com:ko>
				   		</div>
			   		</com:ko>
		   		</div>
		   		<div id="tabpanel-4" role="tabpanel">
		   			<div class="sidebar-content-header">
		   				<span class="title">賞与支給項目</span>
		   				<com:ko tag="template" bind="{name: 'header-template', data: aggregateItemCategories()[3]}"></com:ko>
					</div>
					<com:ko tag="if" bind="selectedTab() == 3">
						<div class="contents-area">
							<com:ko tag="template" bind="{name: 'content-template', data: aggregateItemCategories()[3],
									afterRender: afterRender}"></com:ko>
				   		</div>
			   		</com:ko>
		   		</div>
		   		<div id="tabpanel-5" role="tabpanel">
		   			<div class="sidebar-content-header">
		   				<span class="title">賞与控除項目</span>
		   				<com:ko tag="template" bind="{name: 'header-template', data: aggregateItemCategories()[4]}"></com:ko>
					</div>
					<com:ko tag="if" bind="selectedTab() == 4">
						<div class="contents-area">
							<com:ko tag="template" bind="{name: 'content-template', data: aggregateItemCategories()[4],
									afterRender: afterRender}"></com:ko>
				   		</div>
			   		</com:ko>
		   		</div>
		   		<div id="tabpanel-6" role="tabpanel">
		   			<div class="sidebar-content-header">
		   				<span class="title">賞与勤怠項目</span>
		   				<com:ko tag="template" bind="{name: 'header-template', data: aggregateItemCategories()[5]}"></com:ko>
					</div>
					<com:ko tag="if" bind="selectedTab() == 5">
						<div class="contents-area">
							<com:ko tag="template" bind="{name: 'content-template', data: aggregateItemCategories()[5],
									afterRender: afterRender}"></com:ko>
				   		</div>
			   		</com:ko>
		   		</div>
		   		
			<script type="text/html" id="header-template">
				<button data-bind="click: switchToCreateMode">新規</button>
				<button class="proceed" data-bind="click: save">登録</button>
				<button data-bind="click: remove, enable: !aggregateItemDetail().createMode()">削除</button>
				<button data-bind="click: close">閉じる</button>
			</script>
			<script type="text/html" id="content-template">
			<div class="left-content">
			<div class="search-grid">
				<div id="search-input" class="ntsSearchBox"
						data-bind="ntsSearchBox: {comId: 'aggregate-items', 
							items: itemList, 
							selected: aggregateItemSelectedCode, 
							selectedKey: 'code', 
							fields: ['name', 'code']}"
						placeholder="コード・名称"></div>
			</div>
			<div class="aggregate-table">
				<table id="aggregate-items" data-bind="ntsGridList: {
								width: 250,
								height: 500,
								options: itemList,
								optionsValue: 'code',
								columns: $root.content.itemListColumns,
								multiple: false,
								value: aggregateItemSelectedCode
						}"></table>
			</div>
		</div>
		<div class="right-content" data-bind="with: aggregateItemDetail">
			<div class="flex valign-center">
				<div id="code-name-label" data-bind="ntsFormLabel: {constraint: ['WLAggregateItemCode','WLAggregateItemName'], required: true}">コード/名称</div>
				<div class="code-input">
					<input id="code-input" data-name="コード" data-bind="ntsTextEditor: {value: code, 
										enable: true,
										constraint: 'WLAggregateItemCode',
										required: true,
										enable: createMode()}"></input>
				</div>
				<div class="name-input">
					<input id="name-input" data-name="名称" data-bind="ntsTextEditor: {value: name,
										constraint: 'WLAggregateItemName',
										required: true}"></input>
				</div>
			</div>
			<div class="flex valign-center">
				<div data-bind="ntsFormLabel: {}">値が0の時の項目名</div>
				<div class="cf switch-button-class" data-bind="ntsSwitchButton: {
					options: $root.content.switchs,
					optionsValue: 'code',
					optionsText: 'name',
					value: showNameZeroCode,
					enable: true }"></div>
			</div>
			<div class="flex valign-center">
				<div data-bind="ntsFormLabel: {}">値が0の時の項目値</div>
				<div class="cf switch-button-class" data-bind="ntsSwitchButton: {
					options: $root.content.switchs,
					optionsValue: 'code',
					optionsText: 'name',
					value: showValueZeroCode,
					enable: true }"></div>
			</div>
			<div class="select-item">
				<div class="select-label">
					<div class="master-table-label">
						<div data-bind="ntsFormLabel: {}">選択できる給与支給項目</div>
						<div class="head-end"></div>
					</div>
					<div class="sub-table-label">
						<div data-bind="ntsFormLabel: {}">集約する給与支給項目</div>
						<div class="head-end"></div>
					</div>
				</div>
				<div id="swap-list" data-bind="ntsSwapList: {
						showSearchBox: { showLeft : true, showRight: false},
						height: 350,
						width: 750,
						dataSource: masterItems,
						primaryKey: 'code',
						columns: $root.content.swapListColumns,
						value: subItems
					}"></div>
			</div>
		</div>
			</script>
		</ui:define>
		</ui:composition>
   	</body>
</html>