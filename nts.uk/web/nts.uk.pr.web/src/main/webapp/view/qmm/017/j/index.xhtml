<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/dialog.xhtml">
		<ui:define name="htmlHead">
			<script>var dialogSize = { width: 300, height: 200 };</script>
			<com:scriptfile path="../../../../lib/generic/igniteui/js/infragistics.core.js" />
			<com:scriptfile path="../../../../lib/generic/igniteui/js/infragistics.lob.js" />
           	<com:scriptfile path="../../../../lib/generic/igniteui/js/extensions/infragistics.ui.combo.knockout-extensions.js" />
			<com:scriptfile path="../../../../lib/nittsu/ui/textbox-options.js" />
			<com:scriptfile path="start.js" />
			<com:stylefile path="style.css" />
			<com:scriptfile path="viewmodel.js" />
			<com:scriptfile path="service.js" />
			<com:scriptfile set="IGNITE" />
		</ui:define>

		<ui:define name="content">
			<div id="contents-area" style="padding-left: 20px">
				<span style="font-size: large;">新たに作成する履歴の、作成情報を入力してください。</span>
				<br />
				<div id="code_name_lbl" style="margin-top: 10px" class="separate-vertical"
					data-bind="ntsFormLabel: {}">コード/名称</div>
				<span id="formula_code_lbl" data-bind="text: formulaCode"></span> 
				<span data-bind="text: formulaName" style="display: inline-block; margin-left: 20px"></span>
				<br />
				<div id="start_date_lbl" class="separate-vertical"
					data-bind="ntsFormLabel: {required: true }">開始年月</div>
				<div id="start_date_inp" data-bind="ntsDatePicker: {value: startYm, dateFormat: 'yyyy/MM'}"></div>
				<span data-bind="text: startYearMonthFormated"></span> <br />
				<div>
					<div class="separate-vertical" data-bind="ntsFormLabel: {required: true }">
						<label id="editing_method_lbl" >編集方法の選択</label>
					</div>
					<div id="editing_method_sel">
						<span class="ntsControl"> 
							<label class="ntsRadioBox">
								<input type="radio" name="textRadio" data-bind="checkedValue: 0, checked: selectedMode" />
								<span class="box"></span>
								<span class="label" data-bind="text: textUseLastest"></span>
							</label>
						</span>
						<br />
						<span style="margin-top: 5px" class="ntsControl"> 
							<label class="ntsRadioBox">
								<input type="radio" name="textRadio" data-bind="checkedValue: 1, checked: selectedMode" />
								<span class="box"></span>
								<span class="label" data-bind="text: textCreateNew"></span>
							</label>
						</span>
					</div>
					
				</div>
				<com:ko-if bind="selectedMode() == 1">
					<div id="setting_formula_lbl" style="margin-top: 10px" class="separate-vertical"
						data-bind="ntsFormLabel: {required: true }">計算式の設定方法</div>
					<div class="cf" style="display: inline-block" data-bind="ntsSwitchButton: {
						options: switchButtonDifficultyAtr().items,
						optionsValue: 'code',
						optionsText: 'name',
						value: switchButtonDifficultyAtr().selectedCode,
						enable: true }"></div> <br/>
					<com:ko-if bind="switchButtonDifficultyAtr().selectedCode() == 0">
						<div id="condition_attribute_lbl" class="separate-vertical"
							data-bind="ntsFormLabel: {required: true }">かんたん計算式でマスタによる条件分岐を利用する</div><br/>
						<div class="cf" style="margin: 10px 0px 0px 193px;" data-bind="ntsSwitchButton: {
							options: switchButtonConditionAtr().items,
							optionsValue: 'code',
							optionsText: 'name',
							value: switchButtonConditionAtr().selectedCode,
							enable: true }"></div> <br/>
						<com:ko-if bind="switchButtonConditionAtr().selectedCode() == 1">	
							<div id="master_item_sel" class="separate-vertical"
								data-bind="ntsFormLabel: {required: true }">使用するマスタ</div>
							<div id="combo-box" data-bind="ntsComboBox: {
								options: comboBoxReferenceMasterNo().items,
								optionsValue: 'code',
								value: comboBoxReferenceMasterNo().selectedCode,
								optionsText: 'name',
								editable: false,
								enable: true}"></div>
						</com:ko-if>
					</com:ko-if>
				</com:ko-if>
				<div id="footer">
					<hr/>
					<button id="j_btn_001" class="x-large proceed" data-bind="click: registerFormulaHistory">決定</button>
					<button id="j_btn_002" >キャンセル</button>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>