<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:com="http://xmlns.jcp.org/jsf/component"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<body>
	<ui:composition template="../../../../master/base.xhtml">
		<ui:define name="htmlHead">
			<script>
				var dialogSize = {
					width : 1200,
					height : 600
				};
			</script>
			<com:stylefile path="main.css" />
			<com:scriptfile set="IGNITE" />
			<com:scriptfile path="../0/common/service.js" />
			<com:scriptfile path="service.js" />
			<com:scriptfile path="viewmodel.js" />
			<com:scriptfile path="start.js" />
		</ui:define>

		<ui:define name="content">
			<div id="functions-area">
				<button class="large proceed" data-bind="click: save, enable: $root.errors.isEmpty">登録</button>
				<button class="large">印刷</button>
				<button class="large" data-bind="click: reCalculate">再計算</button>
				<button class="large btn-close" data-bind="click: closeDialog">閉じる</button>
			</div>
			<div class="contents-area">
				<div data-bind="ntsFormLabel: {required: true}">事業所 :</div>
				<com:ko tag="with" bind="pensionRateModel">
					<span id="lblCode" data-bind="text: officeCode"></span>
					<span id="lblName" data-bind="text: officeName"></span>
				</com:ko>
				<div style="margin-left: 200px"
					data-bind="ntsFormLabel: {required: true}">期間 :</div>
				<span>(平成28年04月) ~ 9999/12</span>
				<div style="padding-top: 30px;">
					<table id="health_insurance_per_month">
						<tbody>
							<tr class="bg-green">
								<th colspan="2" rowspan="2">等級</th>
								<th class="halign-center" rowspan="4">標準月額</th>
								<th class="halign-center" colspan="2" rowspan="2">報酬月額</th>
								<th class="border_none"><button class="small"
										data-bind="click: leftToggle">
										<span data-bind="text: leftBtnText"></span>
									</button></th>
								<th data-bind="css: { hidden: !leftShow() }"
									class="border-left-none halign-center" colspan="5">厚生年金</th>
								<th class="border_none"><button class="small"
										data-bind="click: rightToggle">
										<span data-bind="text: rightBtnText"></span>
									</button></th>
								<th data-bind="css: { hidden: !rightShow() }"
									class="border-left-none halign-center" colspan="5">免除保険料</th>
								<th class="halign-center" rowspan="3">子ども子育 て拠出金</th>
							</tr>
							<tr class="bg-green">
								<th data-bind="css: { hidden: leftShow() }" class="border_none"></th>
								<th data-bind="css: { hidden: !leftShow() }"
									class="halign-center" colspan="3">被保険者負担</th>
								<th data-bind="css: { hidden: !leftShow() }"
									class="halign-center" colspan="3">事業主負担</th>
								<th data-bind="css: { hidden: rightShow() }" class="border_none"></th>
								<th data-bind="css: { hidden: !rightShow() }"
									class="halign-center" colspan="3">被保険者負担</th>
								<th data-bind="css: { hidden: !rightShow() }"
									class="halign-center" colspan="3">事業主負担</th>
							</tr>
							<tr class="bg-green">
								<th class="halign-center" rowspan="2">健保</th>
								<th class="halign-center" rowspan="2">厚保</th>
								<th class="halign-center" rowspan="2">以上</th>
								<th class="halign-center" rowspan="2">末満</th>

								<th data-bind="css: { hidden: leftShow() }" class="border_none"></th>
								<com:ko tag="if" bind="leftShow">
									<th class="halign-center">男子</th>
									<th class="halign-center">女子</th>
									<th class="halign-center">坑内員</th>
									<th class="halign-center">男子</th>
									<th class="halign-center">女子</th>
									<th class="halign-center">坑内員</th>
								</com:ko>

								<th data-bind="css: { hidden: rightShow() }" class="border_none"></th>
								<com:ko tag="if" bind="rightShow">
									<th class="halign-center">男子</th>
									<th class="halign-center">女子</th>
									<th class="halign-center">坑内員</th>
									<th class="halign-center">男子</th>
									<th class="halign-center">女子</th>
									<th class="halign-center">坑内員</th>
								</com:ko>
							</tr>
							<tr class="bg-green">
								<th data-bind="css: { hidden: leftShow() }" class="border_none"></th>
								<com:ko tag="if" bind="leftShow">
									<th class="halign-center">40.900/1000</th>
									<th class="halign-center">40.900/1000</th>
									<th class="halign-center">40.900/1000</th>
									<th class="halign-center">40.900/1000</th>
									<th class="halign-center">40.900/1000</th>
									<th class="halign-center">40.900/1000</th>
								</com:ko>

								<th data-bind="css: { hidden: rightShow() }" class="border_none"></th>
								<com:ko tag="if" bind="rightShow">
									<th class="halign-center">40.900/1000</th>
									<th class="halign-center">40.900/1000</th>
									<th class="halign-center">40.900/1000</th>
									<th class="halign-center">40.900/1000</th>
									<th class="halign-center">40.900/1000</th>
									<th class="halign-center">40.900/1000</th>
								</com:ko>
								<!-- wait for data from qmm008 a.
									<com:ko tag="with" bind="pensionRateModel.fundRateItems">
									<com:ko tag="if" bind="$parent.leftShow">
										<th class="halign-center" data-bind="text: $parent.companyFundExemption.maleAmount"></th>
										<th class="halign-center" data-bind="text: $parent.companyFundExemption.femaleAmount"></th>
										<th class="halign-center" data-bind="text: $parent.companyFundExemption.unknownAmount"></th>
										<th class="halign-center" data-bind="text: $parent.companyPension.maleAmount"></th>
										<th class="halign-center" data-bind="text: $parent.companyPension.femaleAmount"></th>
										<th class="halign-center" data-bind="text: $parent.companyPension.unknownAmount"></th>
									</com:ko>
									<th data-bind="css: { hidden: $parent.rightShow() }"
										class="border_none"></th>
									<com:ko tag="if" bind="$parent.rightShow">
										<th class="halign-center" data-bind="text: $parent.personalFundExemption.maleAmount"></th>
										<th class="halign-center" data-bind="text: $parent.personalFundExemption.femaleAmount"></th>
										<th class="halign-center" data-bind="text: $parent.personalFundExemption.unknownAmount"></th>
										<th class="halign-center" data-bind="text: $parent.personalPension.maleAmount"></th>
										<th class="halign-center" data-bind="text: $parent.personalPension.femaleAmount"></th>
										<th class="halign-center" data-bind="text: $parent.personalPension.unknownAmount"></th>
									</com:ko>
								</com:ko>-->
								<th class="halign-center" data-bind="text: pensionRateModel.childContributionRate"></th> 
							</tr>
							<com:ko-foreach bind="listAvgEarnLevelMasterSetting">
								<tr class="inp-money">
									<td class="bg-green"><span data-bind="text: healthLevel"></span></td>
									<td class="bg-green"><span data-bind="text: pensionLevel"></span></td>
									<td class="bg-green"><span data-bind="text: avgEarn"></span></td>
									<td class="bg-green"><span data-bind="text: salMin"></span></td>
									<td class="bg-green"><span data-bind="text: salLimit"></span></td>
									<com:ko-foreach bind="$parent.listPensionAvgearnModel">
										<com:ko-if bind="$parent.code == levelCode">
											<td data-bind="css: { hidden: $parents[1].leftShow() }"
												class="bg-green border_none"></td>
											<com:ko tag="with" bind="personalPension">
												<com:ko-if bind="$parents[2].leftShow()">
													<td><input data-bind="ntsNumberEditor: {value: maleAmount}"></input></td>
													<td><input data-bind="ntsNumberEditor: {value: femaleAmount}"></input></td>
													<td><input data-bind="ntsNumberEditor: {value: unknownAmount}"></input></td>
												</com:ko-if>
											</com:ko>
											<com:ko tag="with" bind="companyPension">
												<com:ko-if bind="$parents[2].leftShow()">
													<td><input data-bind="ntsNumberEditor: {value: maleAmount}"></input></td>
													<td><input data-bind="ntsNumberEditor: {value: femaleAmount}"></input></td>
													<td><input data-bind="ntsNumberEditor: {value: unknownAmount}"></input></td>
												</com:ko-if>
											</com:ko>
											<td data-bind="css: { hidden: $parents[1].rightShow() }"
												class="bg-green border_none"></td>
											<com:ko tag="with" bind="personalFundExemption">
												<com:ko-if bind="$parents[2].rightShow()">
													<td><input data-bind="ntsNumberEditor: {value: maleAmount}"></input></td>
													<td><input data-bind="ntsNumberEditor: {value: femaleAmount}"></input></td>
													<td><input data-bind="ntsNumberEditor: {value: unknownAmount}"></input></td>
												</com:ko-if>
											</com:ko>
											<com:ko tag="with" bind="companyFundExemption">
												<com:ko-if bind="$parents[2].rightShow()">
													<td><input data-bind="ntsNumberEditor: {value: maleAmount}"></input></td>
													<td><input data-bind="ntsNumberEditor: {value: femaleAmount}"></input></td>
													<td><input data-bind="ntsNumberEditor: {value: unknownAmount}"></input></td>
												</com:ko-if>
											</com:ko>
											<td><input data-bind="ntsNumberEditor: {value: childContributionAmount}"></input></td>
										</com:ko-if>
									</com:ko-foreach>
								</tr>
							</com:ko-foreach>
						</tbody>
					</table>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>